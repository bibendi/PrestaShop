<?php
/* This file encoded by Raizlabs PHP Obfuscator http://www.raizlabs.com/software */
error_reporting(E_ALL ^ E_NOTICE);ini_set('error_reporting', E_ALL ^ E_NOTICE);  include_once(_PS_MODULE_DIR_.'/smsprestashop/Utils.php'); include_once(_PS_MODULE_DIR_.'/smsprestashop/lang.php');  class AdminSmsProfile extends AdminTab   {    public $R1BE68D9A31A04B228CE9DBB8DB87555C = false;  public $R7FF2E8B51F10117262502756624CDBDD = 0;  public $R7FA3E4580E31AFD7506D29B7988982C0 = 0;  public $RBA0F59B5D40F2EBDBAA01CC5803B6C4F=0;  public $R36B48AEC7AE2C66B8E3D92ED219CF642='';  public $R6A1F2355CD7BCD4ADAFCF1DAC386AB9A='';  public $R038785A7E49EAB658206B11C884FE2B3='';  public $R2A7AE1F3B30F4135247F0C2D7CCD0572='';  public $R2F47182A5B84A2295216C92EBD17C166='';  public $R087AC3D01E1802D7A2256B67D96F2A44=0;  public $R27F578F03431AEC0DE45184EF0D09596=0;  public $RBC1EBC40EF2F318B2C3937B41CEEB78A=0;     public function display()     {  global $currentIndex, $RF044B5314AB8CF4717F689F4BBB7580D,$RA30E67F43092199CB84A6793C98D4DD9;    if(!strlen($currentIndex)>0):    $currentIndex = Utils::get_currentIndex();  endif;   $RC65770D951D3270DE716E007CA8D96AA = new Utils();  $R5EE55DBF8AB9C636E322BD5943861EB7 = $RC65770D951D3270DE716E007CA8D96AA->loadSmsProfile();  $this->user5 =  $RC65770D951D3270DE716E007CA8D96AA->user5;  $this->passwd5 =  $RC65770D951D3270DE716E007CA8D96AA->passwd5;  $this->simulate5 =  $RC65770D951D3270DE716E007CA8D96AA->simulate5;  $this->deletedb5 =  $RC65770D951D3270DE716E007CA8D96AA->deletedb5;   $this->deliveryemail = $RC65770D951D3270DE716E007CA8D96AA->deliveryemail;  $this->pocetkredit = $RC65770D951D3270DE716E007CA8D96AA->pocetkredit;   $this->URLreports = $RC65770D951D3270DE716E007CA8D96AA->URLreports;   $this->pref_billing = $RC65770D951D3270DE716E007CA8D96AA->pref_billing;     if(count($R5EE55DBF8AB9C636E322BD5943861EB7)>0):    $R1882417D03B3C43B7569EBF34D55945E = $this->GetSmsInfo();       if(strlen($R1882417D03B3C43B7569EBF34D55945E[0])>0):    $RF044B5314AB8CF4717F689F4BBB7580D = 1;    endif;  endif;    if($RF044B5314AB8CF4717F689F4BBB7580D != 1):    echo '     <h2>'.$this->l(v_adminsmsprofile_profilenotactive).'</h2>   <div><div style="float:left;width:49%">   <fieldset>   <legend><img src="../img/t/AdminEmployees.gif" alt="" /> '.$this->l(v_adminsmsprofile_newaccount).'</legend>   <form action="' . $currentIndex . '&submitAdd' .  $this->table . '=1&token=' . $this->token . '" method="post">          ' . ($R602BAA072843820A45861C75C510C77E->id ? '<input type="hidden" name="ID" value="' . $R602BAA072843820A45861C75C510C77E->id . '" />' : '').'     <p>'.$this->l(v_adminsmsprofile_notregistered).'</p>      <br />';      echo '<div>   <label>'.$this->l(v_adminsmsprofile_email).' </label>    <div class="margin-form">';      echo '     <div style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="email" value="' . htmlentities( Tools::getValue( 'email' ), ENT_COMPAT, 'UTF-8' ) . '" /><sup>*</sup>     </div>      <div class="clear"></div>            </div>';        echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_company).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="companyname" value="' . htmlentities( Tools::getValue( 'companyname' ), ENT_COMPAT, 'UTF-8' ) . '" />     </div>      <div class="clear"></div>            </div>';     echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_street).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="addressstreet" value="' . htmlentities( Tools::getValue( 'addressstreet' ), ENT_COMPAT, 'UTF-8' ) . '" />     </div>      <div class="clear"></div>            </div>';    echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_city).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="addresscity" value="' . htmlentities( Tools::getValue( 'addresscity' ), ENT_COMPAT, 'UTF-8' ) . '" />     </div>      <div class="clear"></div>            </div>';     echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_zip).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="addresszip" value="' . htmlentities( Tools::getValue( 'addresszip' ), ENT_COMPAT, 'UTF-8' ) . '" />     </div>      <div class="clear"></div>            </div>';    echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_country).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     '. Utils::select_country2 (htmlentities( Tools::getValue( 'country0' ), ENT_COMPAT, 'UTF-8' )).'     </div>      <div class="clear"></div>            </div>';     echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_id).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="companyid" value="' . htmlentities( Tools::getValue( 'companyid' ), ENT_COMPAT, 'UTF-8' ) . '" />     </div>      <div class="clear"></div>            </div>';    echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_vat).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="companyvat" value="' . htmlentities( Tools::getValue( 'companyvat' ), ENT_COMPAT, 'UTF-8' ) . '" />     </div>      <div class="clear"></div>            </div>';    @$RC8C35DF838D3ED1B3A668BB08772D020 = constant("v_refererID");   $R7C179171828E74ED9BC9022A90061E47 = strlen($RC8C35DF838D3ED1B3A668BB08772D020);   if(!$R7C179171828E74ED9BC9022A90061E47>0):        echo '       <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_refererid).' </label>        <div class="margin-form">';              echo '         <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">         <input style="width:170px;" type="text" name="refererid" value="' . htmlentities( Tools::getValue( 'refererid' ), ENT_COMPAT, 'UTF-8' ) . '" />         </div>         <div class="clear"></div>        </div>';   endif;      if(lang_iso_code=="cs" || lang_iso_code=="sk"):    echo '   <label><a href="../modules/smsprestashop/licence_cs.pdf" style="text-decoration:underline;">'.$this->l(v_adminsmsprofile_licence).'</a></label>    <div class="margin-form">';    else:    echo '   <label><a href="../modules/smsprestashop/licence_en.pdf" style="text-decoration:underline;">'.$this->l(v_adminsmsprofile_licence).'</a></label>    <div class="margin-form">';    endif;        if( htmlentities( Tools::getValue( 'agree' ), ENT_COMPAT, 'UTF-8' )>0 ):      $RF51848BBCA162A8701091F53537DF89D = htmlentities( Tools::getValue( 'agree' ), ENT_COMPAT, 'UTF-8' );   else:    $RF51848BBCA162A8701091F53537DF89D = 2;   endif;    $R3EA13CC5D557BA6351AD446D1757FBD5 = ""; $R47000F6B1BB5C552E7B642C737C3B684 = "";   if($RF51848BBCA162A8701091F53537DF89D==1):    $R3EA13CC5D557BA6351AD446D1757FBD5 = " checked=\"checked\"";   else:    $R47000F6B1BB5C552E7B642C737C3B684 = " checked=\"checked\"";   endif;       echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <span style="font-size:12px;color:black;"><input type="radio" name="agree" value="1"'.$R3EA13CC5D557BA6351AD446D1757FBD5.' /> '.v_adminsmsprofile_agree.'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="agree" value="2"'.$R47000F6B1BB5C552E7B642C737C3B684.' /> '.v_adminsmsprofile_notagree.'</span>     </div>      <div class="clear"></div>            </div>';          echo ' <div class="margin-form">     <input type="submit" value="'.$this->l(v_adminsmsprofile_register).'" name="submitAddSmsAccount" class="button" />    </div>            <div class="small"><sup>*</sup> '.$this->l(v_adminsmsprofile_required).'</div>   </div>';   echo '</form></fieldset>  </div>    ';      echo '      <div style="float:right;width:49%">   <fieldset>   <legend><img src="../img/t/AdminEmployees.gif" alt="" /> '.$this->l(v_adminsmsprofile_sign).'</legend>   <form action="' . $currentIndex . '&submitLogin' .  $this->table . '=1&token=' . $this->token . '" method="post">         ' . ($R602BAA072843820A45861C75C510C77E->id ? '<input type="hidden" name="ID" value="' . $R602BAA072843820A45861C75C510C77E->id . '" />' : '').'     <p>'.$this->l(v_adminsmsprofile_signtext).'</p>      <br />';      echo '<div>   <label>'.$this->l(v_adminsmsprofile_username).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="username" value="' . htmlentities( Tools::getValue( 'username' ), ENT_COMPAT, 'UTF-8' ) . '" /><sup>*</sup>     </div>      <div class="clear"></div>            </div>';     echo '   <label>'.$this->l(v_adminsmsprofile_password).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="password" value="' . htmlentities( Tools::getValue( 'password' ), ENT_COMPAT, 'UTF-8' ) . '" /><sup>*</sup>     </div>      <div class="clear"></div>            </div>';       echo ' <div class="margin-form">     <input type="submit" value="'.$this->l(v_adminsmsprofile_login).'" name="submitLogin'.$this->table.'" class="button" />    </div>            <div class="small"><sup>*</sup> '.$this->l(v_adminsmsprofile_required).'</div>   </div>';   echo '</form></fieldset>  </div>   </div><div class="clear"></div><br /><br />';       else:               $R61D8A8B72B06B8909757F1C8BB237D18 = date("Y-m-d");   $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS("SELECT * FROM "._DB_PREFIX_."sp_settings where name like 'lastversion'");   if (is_array($R679E9B9234E2062F809DBD3325D37FB6)):    foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)    {     $RF6938383C523FCF26ECF0C0E99AEC145 =  $R4EEB713E57BBAAF1217CF39632604473["value"] ;         }   endif;     if(!strlen($RF6938383C523FCF26ECF0C0E99AEC145)>0 || $RF6938383C523FCF26ECF0C0E99AEC145!=$R61D8A8B72B06B8909757F1C8BB237D18):         include_once(_PS_MODULE_DIR_.'/smsprestashop/smsprestashop.php');         $R552CBD5E2590C37E6559982D83CD7AC5 = new SmsPrestashop();          $R9A12F69096F86F610AEB65F473873133 = $R552CBD5E2590C37E6559982D83CD7AC5->version;   endif;    if(!strlen($RF6938383C523FCF26ECF0C0E99AEC145)>0):      $this->refreshversion($R9A12F69096F86F610AEB65F473873133);      $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->Execute("insert into "._DB_PREFIX_."sp_settings values(NULL,'lastversion','".$R61D8A8B72B06B8909757F1C8BB237D18."')");   elseif($RF6938383C523FCF26ECF0C0E99AEC145!=$R61D8A8B72B06B8909757F1C8BB237D18):      $this->refreshversion($R9A12F69096F86F610AEB65F473873133);      $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->Execute("update "._DB_PREFIX_."sp_settings set  value = '".$R61D8A8B72B06B8909757F1C8BB237D18."'  where name like 'lastversion' ");   endif;         echo '<script type="text/javascript" src="../modules/smsprestashop/function_help1.js"></script>';    echo '     <h2>'.$this->l(v_adminsmsprofile_profileactive).'</h2>   <div><div style="float:left;width:49%">   <fieldset>   <legend><img src="../img/t/AdminEmployees.gif" alt="" /> '.$this->l(v_adminsmsprofile_editaccount).'</legend>   <form action="' . $currentIndex . '&EditSmsAccount' .  $this->table . '=1&token=' . $this->token . '" method="post">          ' . ($R602BAA072843820A45861C75C510C77E->id ? '<input type="hidden" name="ID" value="' . $R602BAA072843820A45861C75C510C77E->id . '" />' : '').'           <br />';       echo '<div>   <label>'.$this->l(v_adminsmsprofile_email).' </label>    <div class="margin-form">';      if( strlen( Tools::getValue( 'email' ) )>0 ):   $RA88D482883EBC7B990C42B4FC39FC3C2 = htmlentities( Tools::getValue( 'email' ), ENT_COMPAT, 'UTF-8' );   else:   $RA88D482883EBC7B990C42B4FC39FC3C2 = $R5EE55DBF8AB9C636E322BD5943861EB7["email"];   endif;    echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="email" value="' . $RA88D482883EBC7B990C42B4FC39FC3C2. '" /><sup>*</sup>     </div>      <div class="clear"></div>            </div>';       if( strlen( Tools::getValue( 'companyname' ) )>0 ):   $R107157F1EB96B6AC7D05F97F28D4E65C = htmlentities( Tools::getValue( 'companyname' ), ENT_COMPAT, 'UTF-8' );   else:   $R107157F1EB96B6AC7D05F97F28D4E65C = $R5EE55DBF8AB9C636E322BD5943861EB7["companyname"];   endif;    echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_company).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="companyname" value="' . $R107157F1EB96B6AC7D05F97F28D4E65C . '" />     </div>      <div class="clear"></div>            </div>';     if( strlen( Tools::getValue( 'addressstreet' ) )>0 ):   $R04715AD9CBDCD42E36E8BA649B6A5D75 = htmlentities( Tools::getValue( 'addressstreet' ), ENT_COMPAT, 'UTF-8' );   else:   $R04715AD9CBDCD42E36E8BA649B6A5D75 = $R5EE55DBF8AB9C636E322BD5943861EB7["addressstreet"];   endif;     echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_street).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="addressstreet" value="' . $R04715AD9CBDCD42E36E8BA649B6A5D75. '" />     </div>      <div class="clear"></div>            </div>';     if( strlen( Tools::getValue( 'addresscity' ) )>0 ):   $R16F6A9996E89691DA2B90A8C0F4570D6 = htmlentities( Tools::getValue( 'addresscity' ), ENT_COMPAT, 'UTF-8' );   else:   $R16F6A9996E89691DA2B90A8C0F4570D6 = $R5EE55DBF8AB9C636E322BD5943861EB7["addresscity"];   endif;    echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_city).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="addresscity" value="' . $R16F6A9996E89691DA2B90A8C0F4570D6 . '" />     </div>      <div class="clear"></div>            </div>';     if( strlen( Tools::getValue( 'addresszip' ) )>0 ):   $RBA57835038A866496C79A10BBB4CF298 = htmlentities( Tools::getValue( 'addresszip' ), ENT_COMPAT, 'UTF-8' );   else:   $RBA57835038A866496C79A10BBB4CF298 = $R5EE55DBF8AB9C636E322BD5943861EB7["addresszip"];   endif;    echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_zip).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="addresszip" value="' . $RBA57835038A866496C79A10BBB4CF298 . '" />     </div>      <div class="clear"></div>            </div>';     if( strlen( Tools::getValue( 'country0' ) )>0 ):   $RC6655D93E9234192BE3EC36223DCA6A6 = htmlentities( Tools::getValue( 'country0' ), ENT_COMPAT, 'UTF-8' );   else:   $RC6655D93E9234192BE3EC36223DCA6A6 = $R5EE55DBF8AB9C636E322BD5943861EB7["country0"];   endif;    echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_country).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     '. Utils::select_country2 ($RC6655D93E9234192BE3EC36223DCA6A6).'     </div>      <div class="clear"></div>            </div>';     if( strlen( Tools::getValue( 'companyid' ) )>0 ):   $R6FAC6C7335F5249AF4996DA56F2DE42B = htmlentities( Tools::getValue( 'companyid' ), ENT_COMPAT, 'UTF-8' );   else:   $R6FAC6C7335F5249AF4996DA56F2DE42B = $R5EE55DBF8AB9C636E322BD5943861EB7["companyid"];   endif;    echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_id).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="companyid" value="' .$R6FAC6C7335F5249AF4996DA56F2DE42B . '" />     </div>      <div class="clear"></div>            </div>';     if( strlen( Tools::getValue( 'companyvat' ) )>0 ):   $R6CB2C1ADA08C41B9F921729E6DF642A1 = htmlentities( Tools::getValue( 'companyvat' ), ENT_COMPAT, 'UTF-8' );   else:   $R6CB2C1ADA08C41B9F921729E6DF642A1 = $R5EE55DBF8AB9C636E322BD5943861EB7["companyvat"];   endif;    echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_vat).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:170px;" type="text" name="companyvat" value="' . $R6CB2C1ADA08C41B9F921729E6DF642A1. '" />     </div>      <div class="clear"></div>            </div>';      echo ' <div class="margin-form">     <input type="submit" value="'.$this->l(v_adminsmsprofile_save).'" name="EditSmsAccount" class="button" />    </div>            <div class="small"><sup>*</sup> '.$this->l(v_adminsmsprofile_required).'</div>   </div>';   echo '</form></fieldset>   </div>    ';       echo '      <div style="float:right;width:49%">   <fieldset>   <legend><img src="../img/t/AdminEmployees.gif" alt="" /> '.$this->l(v_adminsmsprofile_accountinfo).'</legend>   <form action="' . $currentIndex . '&submitAdminSettings1' .  $this->table . '=1&token=' . $this->token . '" method="post">         ' . ($R602BAA072843820A45861C75C510C77E->id ? '<input type="hidden" name="ID" value="' . $R602BAA072843820A45861C75C510C77E->id . '" />' : '').'    ';       echo '<div>   <label>'.$this->l(v_adminsmsprofile_username).' </label>    <label style="text-align:left;font-weight:normal;">&nbsp;'.$this->l($R5EE55DBF8AB9C636E322BD5943861EB7["user"]).' </label>   <div class="clear"></div>';     echo '   <label>'.$this->l(v_adminsmsprofile_password).' </label>    <label style="text-align:left;font-weight:normal;">&nbsp;'.$this->l($R5EE55DBF8AB9C636E322BD5943861EB7["passwd"]).' </label>    <div class="clear"></div>           ';      if(strlen($R1882417D03B3C43B7569EBF34D55945E[0])>0):    echo '    <label>'.$this->l(v_adminsmsprofile_credit).' </label>    <label style="text-align:left;font-weight:normal;">&nbsp;'.$this->l($R1882417D03B3C43B7569EBF34D55945E[0]).' </label>    <div class="clear">    </div>';       endif;                 echo '</div><br />';            echo '</form></fieldset>     <br /><br />  <fieldset>  <legend><img src="../img/t/AdminEmployees.gif" alt="" /> '.$this->l(v_adminsmsprofile_addadmin).'</legend>';   if($this->edit_admins==true):   echo '<form action="' . $currentIndex . '&submitEditAdmin2' .  $this->table . '=1&token=' . $this->token . '" method="post">         ' . ($R602BAA072843820A45861C75C510C77E->id ? '<input type="hidden" name="ID" value="' . $R602BAA072843820A45861C75C510C77E->id . '" />' : '').'         ';  else:   echo '<form action="' . $currentIndex . '&submitAddAdmin' .  $this->table . '=1&token=' . $this->token . '" method="post">         ' . ($R602BAA072843820A45861C75C510C77E->id ? '<input type="hidden" name="ID" value="' . $R602BAA072843820A45861C75C510C77E->id . '" />' : '').'         ';  endif;    if(!strlen( Tools::getValue( 'adminnew' ) )>0 && $this->edit_admins==true):    $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS("SELECT * FROM "._DB_PREFIX_."sp_admins where ID=".$this->edit_id);   if (is_array($R679E9B9234E2062F809DBD3325D37FB6)):    foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)    {     $RC8A5008F9DDCFB6AC68BB76B28D50FE9 = $R4EEB713E57BBAAF1217CF39632604473['name'];     $RE04E345E268A5CD0723A8B6DC1A9BD09 = $R4EEB713E57BBAAF1217CF39632604473['number'];    }   endif;   elseif( strlen( Tools::getValue( 'adminnew' ) )>0 ):   $RC8A5008F9DDCFB6AC68BB76B28D50FE9 = htmlentities( Tools::getValue( 'adminnew' ), ENT_COMPAT, 'UTF-8' );  endif;   if($this->edit_sma == 1): $RC8A5008F9DDCFB6AC68BB76B28D50FE9 = ""; endif;     echo '   <label>'.$this->l(v_adminsmsprofile_name).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:130px;" type="text" name="adminnew" value="' . $RC8A5008F9DDCFB6AC68BB76B28D50FE9. '" /><sup>*</sup>     </div>      <div class="clear"></div>            </div>';  if(  strlen($RE04E345E268A5CD0723A8B6DC1A9BD09)>0 ):   $R864B7072A8E04E2DEB0AA916D518BF0B = $RE04E345E268A5CD0723A8B6DC1A9BD09;  elseif( strlen( Tools::getValue( 'numbernew' ) )>0 ):   $R864B7072A8E04E2DEB0AA916D518BF0B = htmlentities( Tools::getValue( 'numbernew' ), ENT_COMPAT, 'UTF-8' ); endif;  if($this->edit_sma == 1): $R864B7072A8E04E2DEB0AA916D518BF0B = ""; endif;    echo '   <label>'.$this->l(v_adminsmsprofile_mobilenr).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:130px;" type="text" name="numbernew" value="' . $R864B7072A8E04E2DEB0AA916D518BF0B. '" /><sup>*</sup><br />     '.v_adminsmsprofile_intformat.'     </div>      <div class="clear"></div>            </div>';     echo ' <div class="margin-form">';   if($this->edit_admins==true):   echo ' <input type="submit" value="'.$this->l(v_adminsmsprofile_edit).'" name="submitEditAdmin2" class="button" />';   echo ' <input type="hidden" value="'.$this->edit_id.'" name="edit" />';   else:   echo ' <input type="submit" value="'.$this->l(v_adminsmsprofile_add).'" name="submitAddAdmin" class="button" />';   endif;    echo ' <br /><br /></form>'.$this->loadAdmins($this->token).'</div>            <div class="small"><span style="color:red;"><sup>*</sup></span> '.$this->l(v_adminsmsprofile_required).'</div>';    echo '</fieldset>     <br /><br />   <fieldset>   <legend><img src="../img/t/AdminEmployees.gif" alt="" /> '.$this->l(v_adminsmsprofile_settings).'</legend>   <form action="' . $currentIndex . '&submitAdminSettings1' .  $this->table . '=1&token=' . $this->token . '" method="post">         ' . ($R602BAA072843820A45861C75C510C77E->id ? '<input type="hidden" name="ID" value="' . $R602BAA072843820A45861C75C510C77E->id . '" />' : '').'    ';      $RC81E66BA68118988F4A70CE32BE4222B = "";   if($this->simulate5==1) $RC81E66BA68118988F4A70CE32BE4222B = " checked=\"checked\"";   echo '<div>   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_simulate).' </label>   <span style="text-align:left;font-weight:normal;"><input type="checkbox" name="simulate" value="1"'.$RC81E66BA68118988F4A70CE32BE4222B.' />&nbsp;&nbsp;<span style="cursor:help;text-decoration:underline;" title="'.v_adminsmsprofile_simulatehint.'" onclick="popup_title(this)">?</span></span>   <div class="clear"></div>';     $RB7BA716078F8BA1167C680A17285DE62 = "";   if($this->deletedb5==1) $RB7BA716078F8BA1167C680A17285DE62 = " checked=\"checked\"";   echo '<div>   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_deletedb).' </label>   <span style="text-align:left;font-weight:normal;"><input type="checkbox" name="deletedb" value="1"'.$RB7BA716078F8BA1167C680A17285DE62.' />&nbsp;&nbsp;<span style="cursor:help;text-decoration:underline;" title="'.v_adminsmsprofile_deletedbhint.'" onclick="popup_title(this)">?</span>&nbsp;&nbsp;'.v_adminsmsprofile_uninstall.'</span>   <div class="clear"></div>';      $RA7666E6E940585F73CC47D65DF36B9E8 = "";   if($this->URLreports==1) $RA7666E6E940585F73CC47D65DF36B9E8 = " checked=\"checked\"";   echo '<div>   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_report).' </label>   <span style="text-align:left;font-weight:normal;"><input type="checkbox" name="URLreports" value="1"'.$RA7666E6E940585F73CC47D65DF36B9E8.' />&nbsp;&nbsp;<span style="cursor:help;text-decoration:underline;" title="'.v_adminsmsprofile_reporthint.'" onclick="popup_title(this)">?</span></span>   <div class="clear"></div><br />';     echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_lowcredit).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:50px;" type="text" name="pocetkredit" value="' .$this->pocetkredit . '" />&nbsp;&nbsp;<span style="cursor:help;text-decoration:underline;font-size:14px;" title="'.v_adminsmsprofile_lowcredithint.'" onclick="popup_title(this)">?</span>&nbsp;&nbsp;'.v_adminsmsprofile_noalert.'     </div>      <div class="clear"></div>            </div>';    echo '   <label style="font-weight:normal;">'.$this->l(v_adminsmsprofile_dremail).' </label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input style="width:120px;" type="text" name="deliveryemail" value="' .$this->deliveryemail . '" />&nbsp;&nbsp;<span style="cursor:help;text-decoration:underline;font-size:14px;" title="'.v_adminsmsprofile_dremailhint.'" onclick="popup_title(this)">?</span></div>      <div class="clear"></div>            </div>';        $R64CC7DC0D3B2733DA9035E63B16E992A = "";$R46594740C9F9D32D51BC80E81D35C322 = "";    if($this->pref_billing==1) $R64CC7DC0D3B2733DA9035E63B16E992A = " checked=\"checked\"";   else  $R46594740C9F9D32D51BC80E81D35C322 = " checked=\"checked\"";   echo '<div>   <label style="font-weight:normal;">'.v_adminsmsprofile_prefer.' </label><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   <span style="text-align:left;font-weight:normal;"><input type="radio" name="pref_billing" value="1"'.$R64CC7DC0D3B2733DA9035E63B16E992A.' /> '.v_adminsmsprofile_preferinvoice.'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="pref_billing" value="0"'.$R46594740C9F9D32D51BC80E81D35C322.' /> '.v_adminsmsprofile_preferdeliver.'</span>   <div class="clear"></div><br />';       echo '   <br /><label>&nbsp;</label>    <div class="margin-form">';      echo '     <div id="name_' . $R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] . '" style="display: ' . ($R739F6542BB76E1DDEC494F839F85A06E['id_lang'|'id_lang'] == $RE1D5BA837877400BD803D6A478A1DBA6 ? 'block' : 'none') . '; float: left;">     <input type="submit" value="'.$this->l(v_adminsmsprofile_save).'" name="submitAdminSettings1" class="button" />     </div>      <div class="clear"></div>            </div>';           echo '</form></fieldset>     <br /><br />    </div>   </div><div class="clear"></div><br /><br />';          endif;       }          public function postProcess()  {   global $cookie,$RF044B5314AB8CF4717F689F4BBB7580D,$RA30E67F43092199CB84A6793C98D4DD9;         if (Tools::isSubmit('submitAddAdmin') )   {       $R9B395079675C6A66FF23EA9C6C4A668E = htmlentities( Tools::getValue( 'adminnew' ), ENT_COMPAT, 'UTF-8' );    $RE4B4CE96BB27A333B0D985F185D90552 = htmlentities( Tools::getValue( 'numbernew' ), ENT_COMPAT, 'UTF-8' );           if ( !$R9B395079675C6A66FF23EA9C6C4A668E):      $this->_errors[] = Tools::displayError(v_adminsmsprofile_invalidname);      return false;    elseif (!$this->isPhoneNumber2($RE4B4CE96BB27A333B0D985F185D90552)  || !$RE4B4CE96BB27A333B0D985F185D90552):      $this->_errors[] = Tools::displayError(v_adminsmsprofile_invalidnumber);      return false;    else:     Db::getInstance()->Execute("insert into "._DB_PREFIX_."sp_admins values (null,'".$R9B395079675C6A66FF23EA9C6C4A668E."','".$RE4B4CE96BB27A333B0D985F185D90552."')");      echo $this->displayConfirmation(v_adminsmsprofile_admincreated);     $this->edit_sma = 1;    endif;        }    elseif (Tools::isSubmit('submitAddSmsAccount') )   {       $REBF2CBC420EBA1C0735E00ADC8973512 = htmlentities( Tools::getValue( 'email' ), ENT_COMPAT, 'UTF-8' );    $RCEBE6623F3E7F15105AB5127FA23B81C = htmlentities( Tools::getValue( 'companyname' ), ENT_COMPAT, 'UTF-8' );       $R09E256237901C588BA69A3BB29EB6620 = htmlentities( Tools::getValue( 'addressstreet' ), ENT_COMPAT, 'UTF-8' );    $R33A88B79C3FE0D55172F2304450E501D = htmlentities( Tools::getValue( 'addresscity' ), ENT_COMPAT, 'UTF-8' );    $R9BD8C65C7403695FC4F3898328A8E510 = htmlentities( Tools::getValue( 'addresszip' ), ENT_COMPAT, 'UTF-8' );    $RDDADDFD0943655838B9C27158D0B4ABC = htmlentities( Tools::getValue( 'country0' ), ENT_COMPAT, 'UTF-8' );    $R1D22726D63FD1895A29DA4AED74B24ED = htmlentities( Tools::getValue( 'companyid' ), ENT_COMPAT, 'UTF-8' );    $R84D6FD0F5BC2F4FA6547F7AE3B888657 = htmlentities( Tools::getValue( 'companyvat' ), ENT_COMPAT, 'UTF-8' );    $R7C93E78C45D3E0539F052263846F2C76 = htmlentities( Tools::getValue( 'refererid' ), ENT_COMPAT, 'UTF-8' );    $RF51848BBCA162A8701091F53537DF89D = htmlentities( Tools::getValue( 'agree' ), ENT_COMPAT, 'UTF-8' );                          $R09E256237901C588BA69A3BB29EB6620  = html_entity_decode($R09E256237901C588BA69A3BB29EB6620, ENT_QUOTES, 'UTF-8');                         $RCEBE6623F3E7F15105AB5127FA23B81C = html_entity_decode($RCEBE6623F3E7F15105AB5127FA23B81C, ENT_QUOTES, 'UTF-8');                         $R33A88B79C3FE0D55172F2304450E501D =  html_entity_decode($R33A88B79C3FE0D55172F2304450E501D, ENT_QUOTES, 'UTF-8');                             if(v_refererID>0):      $R7C93E78C45D3E0539F052263846F2C76 = v_refererID;    endif;     if ($RF51848BBCA162A8701091F53537DF89D!=1):      $this->_errors[] = Tools::displayError(v_adminsmsprofile_agreetext);      return false;    endif;     if (!Validate::isEmail($REBF2CBC420EBA1C0735E00ADC8973512) || !$REBF2CBC420EBA1C0735E00ADC8973512):      $this->_errors[] = Tools::displayError(v_adminsmsprofile_invalidemail2);      return false;    else:          $R7318A606A3118D468DAE7078098FBA7B = "action=register&email=".$REBF2CBC420EBA1C0735E00ADC8973512."&jmeno=".$RCEBE6623F3E7F15105AB5127FA23B81C."&adresa_ulice=".$R09E256237901C588BA69A3BB29EB6620."&adresa_mesto=".$R33A88B79C3FE0D55172F2304450E501D."&adresa_PSC=".$R9BD8C65C7403695FC4F3898328A8E510."&country0=".$RDDADDFD0943655838B9C27158D0B4ABC."&ICO=".$R1D22726D63FD1895A29DA4AED74B24ED."&DIC=".$R84D6FD0F5BC2F4FA6547F7AE3B888657."&refererid=".$R7C93E78C45D3E0539F052263846F2C76;          $R602BAA072843820A45861C75C510C77E = new Utils();     $this->connserver = $R602BAA072843820A45861C75C510C77E->server_post($R7318A606A3118D468DAE7078098FBA7B);     if($this->connserver==1):       $RA30E67F43092199CB84A6793C98D4DD9 =  $R602BAA072843820A45861C75C510C77E->server_data;       if(preg_match("/<b>(.*)<\/b><u>(.*)<\/u>/i", $RA30E67F43092199CB84A6793C98D4DD9, $RDEEC0F795D5FCE6004C92C18C7CCF615)):         $R2E07B6A6D52ABA71031B61094E2A4B99 = $RDEEC0F795D5FCE6004C92C18C7CCF615[1];        $R355EF3FA24DCC8BBCFEC5305FE99574B = $RDEEC0F795D5FCE6004C92C18C7CCF615[2];       endif;            if($R2E07B6A6D52ABA71031B61094E2A4B99==1 && strlen($R355EF3FA24DCC8BBCFEC5305FE99574B)>5):       $RF044B5314AB8CF4717F689F4BBB7580D = 1;         $RCC5354D80D37F8D6155B0C5ECE76CFA8 = explode(";",$R355EF3FA24DCC8BBCFEC5305FE99574B);       Db::getInstance()->Execute("TRUNCATE TABLE "._DB_PREFIX_."sp_smsuser");        Db::getInstance()->Execute("insert into "._DB_PREFIX_."sp_smsuser values ('1','".$RCC5354D80D37F8D6155B0C5ECE76CFA8[0]."','".$RCC5354D80D37F8D6155B0C5ECE76CFA8[1]."','$REBF2CBC420EBA1C0735E00ADC8973512','".addslashes($RCEBE6623F3E7F15105AB5127FA23B81C)."','".addslashes($R09E256237901C588BA69A3BB29EB6620)."','".addslashes($R33A88B79C3FE0D55172F2304450E501D)."','".addslashes($R9BD8C65C7403695FC4F3898328A8E510)."','$RDDADDFD0943655838B9C27158D0B4ABC','".addslashes($R1D22726D63FD1895A29DA4AED74B24ED)."','".addslashes($R84D6FD0F5BC2F4FA6547F7AE3B888657)."',0,0,0,'',0)");         echo $this->displayConfirmation(v_adminsmsprofile_accountcreated);        elseif($R2E07B6A6D52ABA71031B61094E2A4B99==4):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_addaccounttext.(ceil($R355EF3FA24DCC8BBCFEC5305FE99574B/60)).v_adminsmsprofile_minutes);        return false;      endif;     elseif($this->connserver==2):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_cantconnect);      return false;     endif;    endif;        }     elseif (Tools::isSubmit('submitLogin') )   {       $username = htmlentities( Tools::getValue( 'username' ), ENT_COMPAT, 'UTF-8' );    $password = htmlentities( Tools::getValue( 'password' ), ENT_COMPAT, 'UTF-8' );               if (!strlen($username)>0 || !strlen($password)>0):      $this->_errors[] = Tools::displayError(v_adminsmsprofile_filluser);      return false;    else:          $R7318A606A3118D468DAE7078098FBA7B = "action=login&username=".$username."&password=".$password;          $R602BAA072843820A45861C75C510C77E = new Utils();     $this->connserver = $R602BAA072843820A45861C75C510C77E->server_post($R7318A606A3118D468DAE7078098FBA7B);     if($this->connserver==1):       $RA30E67F43092199CB84A6793C98D4DD9 =  $R602BAA072843820A45861C75C510C77E->server_data;       if(preg_match("/<b>(.*)<\/b><u>(.*)<\/u>/i", $RA30E67F43092199CB84A6793C98D4DD9, $RDEEC0F795D5FCE6004C92C18C7CCF615)):         $R2E07B6A6D52ABA71031B61094E2A4B99 = $RDEEC0F795D5FCE6004C92C18C7CCF615[1];        $R355EF3FA24DCC8BBCFEC5305FE99574B = $RDEEC0F795D5FCE6004C92C18C7CCF615[2];       endif;            if($R2E07B6A6D52ABA71031B61094E2A4B99==1 && strlen($R355EF3FA24DCC8BBCFEC5305FE99574B)>0):       $RF044B5314AB8CF4717F689F4BBB7580D = 1;        $RCC5354D80D37F8D6155B0C5ECE76CFA8 = explode(";",$R355EF3FA24DCC8BBCFEC5305FE99574B);              Db::getInstance()->Execute("delete from "._DB_PREFIX_."sp_smsuser where 1");         $RE8FFAB4CC9B22247547389835FC4AFD8 = "insert into "._DB_PREFIX_."sp_smsuser values ('1','".$username."','".$password."','".addslashes($RCC5354D80D37F8D6155B0C5ECE76CFA8[0])."','".addslashes($RCC5354D80D37F8D6155B0C5ECE76CFA8[1])."','".addslashes($RCC5354D80D37F8D6155B0C5ECE76CFA8[2])."','".addslashes($RCC5354D80D37F8D6155B0C5ECE76CFA8[3])."','".addslashes($RCC5354D80D37F8D6155B0C5ECE76CFA8[4])."','".addslashes($RCC5354D80D37F8D6155B0C5ECE76CFA8[7])."','".addslashes($RCC5354D80D37F8D6155B0C5ECE76CFA8[5])."','".addslashes($RCC5354D80D37F8D6155B0C5ECE76CFA8[6])."',0,0,0,'',0)";       Db::getInstance()->Execute($RE8FFAB4CC9B22247547389835FC4AFD8);              echo $this->displayConfirmation(v_adminsmsprofile_loginok);       elseif($R2E07B6A6D52ABA71031B61094E2A4B99==3):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_error);        return false;      elseif($R2E07B6A6D52ABA71031B61094E2A4B99==4):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_loginerror);        return false;      endif;     elseif($this->connserver==2):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_cantconnect);      return false;     endif;    endif;        }    elseif (Tools::isSubmit('submitEditAdmin') )   {    $RFBF824E1BFD06C7CC1B881CC5644E114 = htmlentities( Tools::getValue( 'ID' ), ENT_COMPAT, 'UTF-8' );     $this->edit_admins = true;     $this->edit_id = $RFBF824E1BFD06C7CC1B881CC5644E114;     }        elseif (Tools::isSubmit('submitAdminSettings1') )   {     $this->deletedb5 = htmlentities( Tools::getValue( 'deletedb' ), ENT_COMPAT, 'UTF-8' );    $this->simulate5 = htmlentities( Tools::getValue( 'simulate' ), ENT_COMPAT, 'UTF-8' );    if(!$this->deletedb5>0) $this->deletedb5 = 0;    if(!$this->simulate5>0) $this->simulate5 = 0;     $this->deliveryemail = htmlentities( Tools::getValue( 'deliveryemail' ), ENT_COMPAT, 'UTF-8' );    $this->pocetkredit = htmlentities( Tools::getValue( 'pocetkredit' ), ENT_COMPAT, 'UTF-8' );    $this->URLreports = htmlentities( Tools::getValue( 'URLreports' ), ENT_COMPAT, 'UTF-8' );    $this->pref_billing = htmlentities( Tools::getValue( 'pref_billing' ), ENT_COMPAT, 'UTF-8' );     if (strlen($this->deliveryemail)>0 && !Validate::isEmail($this->deliveryemail)):      $this->_errors[] = Tools::displayError(v_adminsmsprofile_invalidemail);      return false;     endif;      $RB48586A0F317C891BB6A6441D067A3F4 = new Utils();     $R960E02D779EA249C0F08758FBED9EB6A = $RB48586A0F317C891BB6A6441D067A3F4->loadSmsProfile();     $this->user5 =  $RB48586A0F317C891BB6A6441D067A3F4->user5;     $this->passwd5 =  $RB48586A0F317C891BB6A6441D067A3F4->passwd5;           $RE343E503CB9623B59B7D7C30484AA086 = "";     if($this->URLreports==1):       $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS("SELECT * FROM "._DB_PREFIX_."configuration where name IN ('PS_SHOP_DOMAIN')");      if (is_array($R679E9B9234E2062F809DBD3325D37FB6)):       foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)       {        if($R4EEB713E57BBAAF1217CF39632604473['name']=="PS_SHOP_DOMAIN") $R6BA7854442777CB598221CE38006EBA4 = $R4EEB713E57BBAAF1217CF39632604473['value'];       }      endif;                  $R4C145E158B2E290263CB8451208764AC = "";      $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS("SELECT * FROM "._DB_PREFIX_."shop_url where active=1 order by id_shop_url limit 1");      if (is_array($R679E9B9234E2062F809DBD3325D37FB6)):       foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)       {        $R9C25B10D53EE0CAA7649FC72A6A0D062 =  $R4EEB713E57BBAAF1217CF39632604473['physical_uri'];       }      endif;             if(!strlen($R6BA7854442777CB598221CE38006EBA4)>0):      $R6BA7854442777CB598221CE38006EBA4 = '';      $this->URLreports='0';      elseif(strlen($R9C25B10D53EE0CAA7649FC72A6A0D062)>2):      $R6BA7854442777CB598221CE38006EBA4 = urlencode("http://".$R6BA7854442777CB598221CE38006EBA4.$R9C25B10D53EE0CAA7649FC72A6A0D062."modules/smsprestashop/delivery.php");      else:      $R6BA7854442777CB598221CE38006EBA4 = urlencode("http://".$R6BA7854442777CB598221CE38006EBA4."/modules/smsprestashop/delivery.php");      endif;      endif;           $R7318A606A3118D468DAE7078098FBA7B = "action=edit2&username=".$this->user5."&password=".$this->passwd5."&shop_domain=".$R6BA7854442777CB598221CE38006EBA4."&pocetkredit=".$this->pocetkredit."&email=".$this->deliveryemail;     $R602BAA072843820A45861C75C510C77E = new Utils();     $this->connserver = $R602BAA072843820A45861C75C510C77E->server_post($R7318A606A3118D468DAE7078098FBA7B);     if($this->connserver==1):       $RA30E67F43092199CB84A6793C98D4DD9 =  $R602BAA072843820A45861C75C510C77E->server_data;       if(preg_match("/<b>(.*)<\/b><u>(.*)<\/u>/i", $RA30E67F43092199CB84A6793C98D4DD9, $RDEEC0F795D5FCE6004C92C18C7CCF615)):         $R2E07B6A6D52ABA71031B61094E2A4B99 = $RDEEC0F795D5FCE6004C92C18C7CCF615[1];        $R355EF3FA24DCC8BBCFEC5305FE99574B = $RDEEC0F795D5FCE6004C92C18C7CCF615[2];       endif;            if($this->URLreports!=1):      $this->URLreports = '0';      endif;            if($R2E07B6A6D52ABA71031B61094E2A4B99==1 || $R2E07B6A6D52ABA71031B61094E2A4B99==5):       echo $this->displayConfirmation(v_adminsmsprofile_accountchanged);       $RFC325406BB9A32C70E5700459C153D51 = "update "._DB_PREFIX_."sp_smsuser set deletedb='".$this->deletedb5."', simulatesms='".$this->simulate5."', deliveryemail='".$this->deliveryemail."', pocetkredit='".$this->pocetkredit."', URLreports='".$this->URLreports."' where ID=1";       Db::getInstance()->Execute($RFC325406BB9A32C70E5700459C153D51);       elseif($R2E07B6A6D52ABA71031B61094E2A4B99==11):       echo $this->displayConfirmation(v_adminsmsprofile_accountchanged2);       $RFC325406BB9A32C70E5700459C153D51 = "update "._DB_PREFIX_."sp_smsuser set deletedb='".$this->deletedb5."', simulatesms='".$this->simulate5."', deliveryemail='".$this->deliveryemail."', pocetkredit='".$this->pocetkredit."', URLreports='0' where ID=1";       Db::getInstance()->Execute($RFC325406BB9A32C70E5700459C153D51);       elseif($R2E07B6A6D52ABA71031B61094E2A4B99==3):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_error);       return false;      elseif($R2E07B6A6D52ABA71031B61094E2A4B99==4):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_changeaccounttext.$R355EF3FA24DCC8BBCFEC5305FE99574B.v_adminsmsprofile_seeconds);        return false;                         endif;     elseif($this->connserver==2):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_cantconnect);      return false;     endif;         $RFC325406BB9A32C70E5700459C153D51 = "delete from  "._DB_PREFIX_." sp_settings where name like 'pref_billing' ";        Db::getInstance()->Execute($RFC325406BB9A32C70E5700459C153D51);        if($this->pref_billing==1):     $RFC325406BB9A32C70E5700459C153D51 = "insert into "._DB_PREFIX_." sp_settings values (NULL,'pref_billing','1')";       Db::getInstance()->Execute($RFC325406BB9A32C70E5700459C153D51);        endif;                }       elseif (Tools::isSubmit('submitEditAdmin2') )   {    $R1D483B1C19C8DC6402C34D59DA1CFB38 = htmlentities( Tools::getValue( 'edit' ), ENT_COMPAT, 'UTF-8' );     $R9B395079675C6A66FF23EA9C6C4A668E = htmlentities( Tools::getValue( 'adminnew' ), ENT_COMPAT, 'UTF-8' );    $RE4B4CE96BB27A333B0D985F185D90552 = htmlentities( Tools::getValue( 'numbernew' ), ENT_COMPAT, 'UTF-8' );           if ( !$R9B395079675C6A66FF23EA9C6C4A668E):      $this->_errors[] = Tools::displayError(v_adminsmsprofile_invalidname);     $this->edit_admins = true;     $this->edit_id = $R1D483B1C19C8DC6402C34D59DA1CFB38;      return false;    elseif (!$this->isPhoneNumber2($RE4B4CE96BB27A333B0D985F185D90552)  || !$RE4B4CE96BB27A333B0D985F185D90552):      $this->_errors[] = Tools::displayError(v_adminsmsprofile_invalidnumber);     $this->edit_admins = true;     $this->edit_id = $R1D483B1C19C8DC6402C34D59DA1CFB38;      return false;    else:     Db::getInstance()->Execute("update "._DB_PREFIX_."sp_admins set name='".$R9B395079675C6A66FF23EA9C6C4A668E."', number='".$RE4B4CE96BB27A333B0D985F185D90552."' where ID=".$R1D483B1C19C8DC6402C34D59DA1CFB38);      echo $this->displayConfirmation(v_adminsmsprofile_adminchanged);     $this->edit_admins = false;     $this->edit_id = 0;     $this->edit_sma = 1;         endif;      }    elseif (Tools::isSubmit('submitDeleteAdmin') )   {    $RFBF824E1BFD06C7CC1B881CC5644E114 = htmlentities( Tools::getValue( 'ID' ), ENT_COMPAT, 'UTF-8' );    $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->Execute("delete FROM "._DB_PREFIX_."sp_admins where ID=".$RFBF824E1BFD06C7CC1B881CC5644E114);    $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->Execute("delete FROM "._DB_PREFIX_."sp_hooks_admins where adminIDs like '".$RFBF824E1BFD06C7CC1B881CC5644E114."'");        $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS("SELECT * FROM "._DB_PREFIX_."sp_hooks_admins where  adminIDs like '".$RFBF824E1BFD06C7CC1B881CC5644E114.";%'   or   adminIDs like '%;".$RFBF824E1BFD06C7CC1B881CC5644E114.";%'  or   adminIDs like '%;".$RFBF824E1BFD06C7CC1B881CC5644E114."'");     if (is_array($R679E9B9234E2062F809DBD3325D37FB6)):      foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)      {       $RA64ADDF912B8B621AFB6662785E72A2A = null;       $RA64ADDF912B8B621AFB6662785E72A2A = explode(";",$R4EEB713E57BBAAF1217CF39632604473['adminIDs']);       array_splice($RA64ADDF912B8B621AFB6662785E72A2A, array_search($RFBF824E1BFD06C7CC1B881CC5644E114, $RA64ADDF912B8B621AFB6662785E72A2A), 1);       $RBCAD8604F1365528276ACD3796428C41 = Db::getInstance()->Execute("update "._DB_PREFIX_."sp_hooks_admins set adminIDs='".implode(";",$RA64ADDF912B8B621AFB6662785E72A2A)."' where name='".$R4EEB713E57BBAAF1217CF39632604473['name']."' and status='".$R4EEB713E57BBAAF1217CF39632604473['status']."'  ");      }     endif;         echo $this->displayConfirmation(v_adminsmsprofile_admindeleted);   }     elseif (Tools::isSubmit('EditSmsAccount') )   {         $RC65770D951D3270DE716E007CA8D96AA = new Utils();    $R5EE55DBF8AB9C636E322BD5943861EB7 = $RC65770D951D3270DE716E007CA8D96AA->loadSmsProfile();    $this->user5 =  $RC65770D951D3270DE716E007CA8D96AA->user5;    $this->passwd5 =  $RC65770D951D3270DE716E007CA8D96AA->passwd5;      $REBF2CBC420EBA1C0735E00ADC8973512 = htmlentities( Tools::getValue( 'email' ), ENT_COMPAT, 'UTF-8' );    $RCEBE6623F3E7F15105AB5127FA23B81C = htmlentities( Tools::getValue( 'companyname' ), ENT_COMPAT, 'UTF-8' );       $R09E256237901C588BA69A3BB29EB6620 = htmlentities( Tools::getValue( 'addressstreet' ), ENT_COMPAT, 'UTF-8' );    $R33A88B79C3FE0D55172F2304450E501D = htmlentities( Tools::getValue( 'addresscity' ), ENT_COMPAT, 'UTF-8' );    $R9BD8C65C7403695FC4F3898328A8E510 = htmlentities( Tools::getValue( 'addresszip' ), ENT_COMPAT, 'UTF-8' );    $RDDADDFD0943655838B9C27158D0B4ABC = htmlentities( Tools::getValue( 'country0' ), ENT_COMPAT, 'UTF-8' );    $R1D22726D63FD1895A29DA4AED74B24ED = htmlentities( Tools::getValue( 'companyid' ), ENT_COMPAT, 'UTF-8' );    $R84D6FD0F5BC2F4FA6547F7AE3B888657 = htmlentities( Tools::getValue( 'companyvat' ), ENT_COMPAT, 'UTF-8' );        $R09E256237901C588BA69A3BB29EB6620  = html_entity_decode($R09E256237901C588BA69A3BB29EB6620, ENT_QUOTES, 'UTF-8');    $RCEBE6623F3E7F15105AB5127FA23B81C = html_entity_decode($RCEBE6623F3E7F15105AB5127FA23B81C, ENT_QUOTES, 'UTF-8');    $R33A88B79C3FE0D55172F2304450E501D =  html_entity_decode($R33A88B79C3FE0D55172F2304450E501D, ENT_QUOTES, 'UTF-8');        if (!Validate::isEmail($REBF2CBC420EBA1C0735E00ADC8973512)):      $this->_errors[] = Tools::displayError(v_adminsmsprofile_invalidemail2);      return false;    else:          $R7318A606A3118D468DAE7078098FBA7B = "action=edit&username=".$this->user5."&password=".$this->passwd5."&email=".$REBF2CBC420EBA1C0735E00ADC8973512."&jmeno=".$RCEBE6623F3E7F15105AB5127FA23B81C."&adresa_ulice=".$R09E256237901C588BA69A3BB29EB6620."&adresa_mesto=".$R33A88B79C3FE0D55172F2304450E501D."&adresa_PSC=".$R9BD8C65C7403695FC4F3898328A8E510."&country0=".$RDDADDFD0943655838B9C27158D0B4ABC."&ICO=".$R1D22726D63FD1895A29DA4AED74B24ED."&DIC=".$R84D6FD0F5BC2F4FA6547F7AE3B888657;          $R602BAA072843820A45861C75C510C77E = new Utils();     $this->connserver = $R602BAA072843820A45861C75C510C77E->server_post($R7318A606A3118D468DAE7078098FBA7B);     if($this->connserver==1):       $RA30E67F43092199CB84A6793C98D4DD9 =  $R602BAA072843820A45861C75C510C77E->server_data;       if(preg_match("/<b>(.*)<\/b><u>(.*)<\/u>/i", $RA30E67F43092199CB84A6793C98D4DD9, $RDEEC0F795D5FCE6004C92C18C7CCF615)):         $R2E07B6A6D52ABA71031B61094E2A4B99 = $RDEEC0F795D5FCE6004C92C18C7CCF615[1];        $R355EF3FA24DCC8BBCFEC5305FE99574B = $RDEEC0F795D5FCE6004C92C18C7CCF615[2];       endif;            if($R2E07B6A6D52ABA71031B61094E2A4B99==1):       echo $this->displayConfirmation(v_adminsmsprofile_accountchanged);       Db::getInstance()->Execute("update "._DB_PREFIX_."sp_smsuser set email='$REBF2CBC420EBA1C0735E00ADC8973512', companyname='".addslashes($RCEBE6623F3E7F15105AB5127FA23B81C)."',addressstreet='".addslashes($R09E256237901C588BA69A3BB29EB6620)."',addresscity='".addslashes($R33A88B79C3FE0D55172F2304450E501D)."',addresszip='".addslashes($R9BD8C65C7403695FC4F3898328A8E510)."',country0='$RDDADDFD0943655838B9C27158D0B4ABC',companyid='".addslashes($R1D22726D63FD1895A29DA4AED74B24ED)."',companyvat='".addslashes($R84D6FD0F5BC2F4FA6547F7AE3B888657)."' where ID=1");       elseif($R2E07B6A6D52ABA71031B61094E2A4B99==3):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_error);        return false;      elseif($R2E07B6A6D52ABA71031B61094E2A4B99==5):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_nochanges);        return false;      endif;     elseif($this->connserver==2):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_cantconnect);      return false;     endif;    endif;        }             return parent::postProcess();  }       public function GetSmsInfo()  {   global $RA30E67F43092199CB84A6793C98D4DD9;   $RCC5354D80D37F8D6155B0C5ECE76CFA8 = null;      $R7318A606A3118D468DAE7078098FBA7B = "action=info&username=".$this->user5."&password=".$this->passwd5;           $R602BAA072843820A45861C75C510C77E = new Utils();     $this->connserver = $R602BAA072843820A45861C75C510C77E->server_post($R7318A606A3118D468DAE7078098FBA7B);     if($this->connserver==1):       $RA30E67F43092199CB84A6793C98D4DD9 =  $R602BAA072843820A45861C75C510C77E->server_data;       if(preg_match("/<b>(.*)<\/b><u>(.*)<\/u>/i", $RA30E67F43092199CB84A6793C98D4DD9, $RDEEC0F795D5FCE6004C92C18C7CCF615)):         $R2E07B6A6D52ABA71031B61094E2A4B99 = $RDEEC0F795D5FCE6004C92C18C7CCF615[1];        $R355EF3FA24DCC8BBCFEC5305FE99574B = $RDEEC0F795D5FCE6004C92C18C7CCF615[2];       endif;            if($R2E07B6A6D52ABA71031B61094E2A4B99==1):       $RCC5354D80D37F8D6155B0C5ECE76CFA8 = explode(";",$R355EF3FA24DCC8BBCFEC5305FE99574B);      elseif($R2E07B6A6D52ABA71031B61094E2A4B99==3):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_error);        return false;      elseif($R2E07B6A6D52ABA71031B61094E2A4B99==4):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_loginerror);        return false;      endif;      elseif($this->connserver==2):       $this->_errors[] = Tools::displayError(v_adminsmsprofile_cantconnect);      return false;     endif;    return $RCC5354D80D37F8D6155B0C5ECE76CFA8;   }    public function displayConfirmation($R8409EAA6EC0CE2EA307354B2E150F8C2)  {    $RE96E6957E643B99AB982605A4618E1D3 = '   <div class="module_confirmation conf confirm">    <img src="'._PS_IMG_.'admin/ok.gif" alt="" title="" /> '.$R8409EAA6EC0CE2EA307354B2E150F8C2.'   </div>';   return $RE96E6957E643B99AB982605A4618E1D3;  }     public static function isPhoneNumber2($R628BC86EE44B87F70064D807E181A7F7)  {   return preg_match('/^[0-9]{7,18}$/', $R628BC86EE44B87F70064D807E181A7F7);  }        public static function loadAdmins($R5D8E95289BF25691AFBFC745FD98DE78)  {   $RCA1A61B3E2062DBE679C4EB3E3B8FEEB = null;   global $currentIndex;    if(!strlen($currentIndex)>0):     $currentIndex = Utils::get_currentIndex();   endif;      $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS("SELECT * FROM "._DB_PREFIX_."sp_admins");      if (is_array($R679E9B9234E2062F809DBD3325D37FB6))    foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)    {      $R2145464ECD445EB7FAEF993D3B5155CE .= "<div style=\"float:left;width:85px;\">".$R4EEB713E57BBAAF1217CF39632604473['name']."</div><div style=\"float:left;\">+".$R4EEB713E57BBAAF1217CF39632604473['number']."</div><div style=\"float:right;\"><form action=\"". $currentIndex ."&submitDeleteAdmin=1&token=".$R5D8E95289BF25691AFBFC745FD98DE78."\" method=\"post\" onsubmit=\"return confirm('".v_adminsmsprofile_confirmdelete." ".$R4EEB713E57BBAAF1217CF39632604473['name']."?');\"><input type=\"image\"  src=\"../img/admin/delete.gif\" name=\"submitDeleteAdmin\" style=\"border:0px;\" alt=\"".v_adminsmsprofile_deleteadmin." ".$R4EEB713E57BBAAF1217CF39632604473['name']."\" title=\"".v_adminsmsprofile_deleteadmin." ".$R4EEB713E57BBAAF1217CF39632604473['name']."\" /><input type=\"hidden\" name=\"ID\" value=\"".$R4EEB713E57BBAAF1217CF39632604473['ID']."\" /></form></div><div style=\"float:right;\"><form action=\"". $currentIndex ."&submitEditAdmin=1&token=".$R5D8E95289BF25691AFBFC745FD98DE78."\" method=\"post\"><input type=\"image\"  src=\"../img/admin/edit.gif\" name=\"submitEditAdmin\" style=\"border:0px;\" alt=\"".v_adminsmsprofile_editadmin." ".$R4EEB713E57BBAAF1217CF39632604473['name']."\" title=\"".v_adminsmsprofile_editadmin." ".$R4EEB713E57BBAAF1217CF39632604473['name']."\" /><input type=\"hidden\" name=\"ID\" value=\"".$R4EEB713E57BBAAF1217CF39632604473['ID']."\" / ></form></div><div class=\"clear\"></div>\n";     }   return $R2145464ECD445EB7FAEF993D3B5155CE;  }       function refreshversion($R8640B2E6C8E8C3A987085416957844E5)  {               $R7318A606A3118D468DAE7078098FBA7B = "action=showlastversion&username=".$this->user5."&password=".$this->passwd5;              $R602BAA072843820A45861C75C510C77E = new Utils();       $this->connserver = $R602BAA072843820A45861C75C510C77E->server_post($R7318A606A3118D468DAE7078098FBA7B);       $R9A12F69096F86F610AEB65F473873133 = 0;       if($this->connserver==1):                 $RA30E67F43092199CB84A6793C98D4DD9 =  $R602BAA072843820A45861C75C510C77E->server_data;           if(preg_match("/<b>(.*)<\/b><u>(.*)<\/u>/i", $RA30E67F43092199CB84A6793C98D4DD9, $RDEEC0F795D5FCE6004C92C18C7CCF615)):           $R2E07B6A6D52ABA71031B61094E2A4B99 = $RDEEC0F795D5FCE6004C92C18C7CCF615[1];          $R355EF3FA24DCC8BBCFEC5305FE99574B = $RDEEC0F795D5FCE6004C92C18C7CCF615[2];         endif;                if($R2E07B6A6D52ABA71031B61094E2A4B99==1 && strlen($R355EF3FA24DCC8BBCFEC5305FE99574B)>0):         $R9A12F69096F86F610AEB65F473873133 = $R355EF3FA24DCC8BBCFEC5305FE99574B;                    elseif($R2E07B6A6D52ABA71031B61094E2A4B99==3):         $this->_errors[] = Tools::displayError(v_adminsmsprofile_error);         return false;        endif;        elseif($this->connserver==2):         $this->_errors[] = Tools::displayError(v_adminsmsprofile_cantconnect);        return false;       endif;              if($R9A12F69096F86F610AEB65F473873133>$R8640B2E6C8E8C3A987085416957844E5)  echo $this->displayConfirmation(v_smsprestashop_newversion." ".$R9A12F69096F86F610AEB65F473873133);                  }        } ?>