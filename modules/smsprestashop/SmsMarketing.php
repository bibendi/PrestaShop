<?php
/* This file encoded by Raizlabs PHP Obfuscator http://www.raizlabs.com/software */
error_reporting(E_ALL ^ E_NOTICE);ini_set('error_reporting', E_ALL ^ E_NOTICE);  include_once(_PS_MODULE_DIR_.'/smsprestashop/Utils.php'); include_once(_PS_MODULE_DIR_.'/smsprestashop/lang.php');   class SmsMarketing extends AdminTab    {       public $R36B48AEC7AE2C66B8E3D92ED219CF642='';  public $R6A1F2355CD7BCD4ADAFCF1DAC386AB9A='';  public $R038785A7E49EAB658206B11C884FE2B3='';  public $RD5D8F70E90FCD7F6429DEDAE71E78CE7=0;  public $RF28606409324C4B7D54E3E16C6235218="";  public $R9BD2E1870418FBDD6CC4EACBEFF73483="";  public $R5BF543BD049D167E1FE83214966D387D="";  public $RB67F4F4FC0A88900A925BA14A75BBE2B="";  public $RB2D9247240580513DB77806F71A88637="";  public $RF0619632751681B5561B70CAF2920A71="";  public $R413B78D14B521E27C24B65EC3E431B82="";  public $R15445DF1E8F4F74F0A814A5F13C91315="";  public $R65DFACB39960C22313740A131148FB81 = 0;  public $R6E0DD8A8876B4BD49860A27488F2673D=null;   public $RA0D1DBFF1E50F02ABF52FE224D2ACD6B=null;  public $RCFB3BBE89BAB0707AB43C3A8F9566A23=null;  public $R574E6CB1B15A61BDE9A9F881EFC25735=null;  public $R8AE14480A7041D9EB65019DCF3B98220=null;   public $R3F243E13444F693A59F15AA5D424B3BE= "";  public $R43D82A865B2A7A7E682BE7E19E4333E8= 0;  public $R7458AFFA82B1F3BE50F6252ECAE56317= '';  public $RA5FC016971E180B38B91409CA4E12788= '';  public $R0E7A0A631E791AAA5749A81D5E612CC9=0;  public $R1538EF403BCC90126519C663397C17B3=9;  public $RC0C7002B9446E2EB68976D18D0DC76B5=0;  public $R14D76A65DDAF58771C5836F1D8E569DF="";  public $R103CF00832E880829B75973C429F5DE1;  public $RAD619E7DC89F5D4F07A25F49F67F2358;   public function display()     {   global $currentIndex, $cookie, $employee;    if(!strlen($currentIndex)>0):    $currentIndex = Utils::get_currentIndex();  endif;     if(!$this->user5):   $RC65770D951D3270DE716E007CA8D96AA = new Utils();   $RC65770D951D3270DE716E007CA8D96AA->loadSmsProfile();   $this->user5 =  $RC65770D951D3270DE716E007CA8D96AA->user5;   $this->passwd5 =  $RC65770D951D3270DE716E007CA8D96AA->passwd5;   $this->simulate5 =  $RC65770D951D3270DE716E007CA8D96AA->simulate5;  endif;   if($this->user5 && $this->passwd5):   if(count($this->pole123)==0) $this->pole123 = $this->GetSmsInfo2();      $R8862AC4E3B4EB76DFEE46BCDCF504D60 = 0;    $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT * FROM "._DB_PREFIX_."configuration where name='PS_TIMEZONE' order by name ";        $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS($R130D64A4AD653C91E0FD80DE8FEADC3A);         if (is_array($R679E9B9234E2062F809DBD3325D37FB6)):         foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)         {          $this->timezone=$R4EEB713E57BBAAF1217CF39632604473['value'];          }           if( preg_match('/^[0-9]*$/', $this->timezone) ):                    $R6737E0D6733F4490DFD201EF86DE613C = "SELECT * FROM "._DB_PREFIX_."timezone where id_timezone='".$this->timezone."'";          $RBCAD8604F1365528276ACD3796428C41 = Db::getInstance()->ExecuteS($R6737E0D6733F4490DFD201EF86DE613C);          if (is_array($RBCAD8604F1365528276ACD3796428C41)):            foreach ($RBCAD8604F1365528276ACD3796428C41 AS $RAAE6940545D4C6B65E61108BE1B52933)            {             $this->timezone=$RAAE6940545D4C6B65E61108BE1B52933['name'];                }          endif;         endif;         else:          $this->timezone='Europe/Prague';               endif;      $R5B08D4F823242B6E50E99FC8C099CDB9 = new DateTime($this->pole123[1], new DateTimeZone('Europe/Prague'));    date_default_timezone_set($this->timezone);    $R0E7A0A631E791AAA5749A81D5E612CC9 = date("Y-m-d H:i:s", $R5B08D4F823242B6E50E99FC8C099CDB9->format('U'));        if(@is_file(_PS_MODULE_DIR_.'/smsprestashop/calendarDateInput_'.lang_iso_code.'.js')):    $R0202F0CA30337C6D486AEA72EA9612DD = "   <script type=\"text/javascript\" src=\"../modules/smsprestashop/calendarDateInput_".lang_iso_code.".js\">   <!--Jason's Date Input Calendar- By Jason Moon http:    Script featured on and available at http:    Keep this notice intact for use.-->   </script>";     else:     $R0202F0CA30337C6D486AEA72EA9612DD = "   <script type=\"text/javascript\" src=\"../modules/smsprestashop/calendarDateInput_en.js\">   <!--Jason's Date Input Calendar- By Jason Moon http:    Script featured on and available at http:    Keep this notice intact for use.-->   </script>";     endif;     $R0202F0CA30337C6D486AEA72EA9612DD .= '<script type="text/javascript" src="../modules/smsprestashop/function_help1.js"></script>';     $R0202F0CA30337C6D486AEA72EA9612DD .= "<br /><fieldset>      <legend><img src=\"../img/t/AdminTools.gif\" alt=\"\" /> ".$this->l(v_smsmarketing_smsbulk)."</legend><form name=\"formSMS\" action=\"". $currentIndex ."&submitSmsMarketingSendSMS=1&token=".$this->token."\" method=\"post\">";    $RC81E66BA68118988F4A70CE32BE4222B = "";    if($this->unicode==1) $RC81E66BA68118988F4A70CE32BE4222B = " checked=\"checked\"";    $RE5139281EF30F3EA16A5CB0FCEC1202B = "";    if($this->sendlater==1) $RE5139281EF30F3EA16A5CB0FCEC1202B = " checked=\"checked\"";    if(!$this->datumodesl) $this->datumodesl = Date("Y-m-d",mktime(0,0,0,date("m"),date("d")+1,date("Y")));    $R0202F0CA30337C6D486AEA72EA9612DD .="<div>     <div style=\"float:left; width:429px;\">".v_smsmarketing_entertext."<br /><textarea name=\"text\" style=\"width:420px; height:135px;\" onchange=\"countitSMS()\"  onkeyup=\"countitSMS()\" onmousemove=\"countitSMS()\">".$this->text."</textarea><label style=\"font-weight:normal;text-align:center;width:420px;\" id=\"labelSMS\"></label></div>     <div style=\"float:left; width:460px;padding-left:10px;\"><br /><input type=\"checkbox\" onchange=\"countitSMS()\" id=\"unicode\" name=\"unicode\" value=\"1\"".$RC81E66BA68118988F4A70CE32BE4222B." />".v_smsmarketing_unicode."&nbsp;<span style=\"cursor:help;text-decoration:underline;\" title=\"".v_smsmarketing_unicodetext."\" onclick=\"popup_title(this)\">?</span><br /><br /><br />     <input type=\"checkbox\" id=\"sendlater\" name=\"sendlater\" value=\"1\"".$RE5139281EF30F3EA16A5CB0FCEC1202B." />".v_smsmarketing_sendlater."&nbsp;&nbsp;".v_smsmarketing_date."<script>DateInput('datumodesl', true, 'YYYY-MM-DD','".$this->datumodesl."')</script>";      if(!$this->hodina) $this->hodina = 9;     for($RA16D2280393CE6A2A5428A4A8D09E354=0;$RA16D2280393CE6A2A5428A4A8D09E354<24;$RA16D2280393CE6A2A5428A4A8D09E354++)     {     $R2B21173C5AE06F24F33345313E4AEA22 = $RA16D2280393CE6A2A5428A4A8D09E354;     if($RA16D2280393CE6A2A5428A4A8D09E354<10) $R2B21173C5AE06F24F33345313E4AEA22 = "0".$RA16D2280393CE6A2A5428A4A8D09E354;     if($this->hodina==$R2B21173C5AE06F24F33345313E4AEA22) $R0C9FB48C15CC7995931D5E50006C9080 = "selected";     $R38721624E2B3CE6BC65CD6FE3CA77F36 .= "<option value=\"".$R2B21173C5AE06F24F33345313E4AEA22."\"".$R0C9FB48C15CC7995931D5E50006C9080.">".$R2B21173C5AE06F24F33345313E4AEA22."</option>\n";     $R0C9FB48C15CC7995931D5E50006C9080="";     }     $R8029A0ACEB72E0D9A46C65DC5DCDE30E = v_smsmarketing_time."<select name=\"hodina\" style=\"font-size:10px;\">".$R38721624E2B3CE6BC65CD6FE3CA77F36."</select>";               for($R3CB9CDAED257453CFA56B9EF81B44C57=0;$R3CB9CDAED257453CFA56B9EF81B44C57<60;$R3CB9CDAED257453CFA56B9EF81B44C57++)     {     $R216B8AF75F5E8911B7861CBD4BACB59D = $R3CB9CDAED257453CFA56B9EF81B44C57;     if($R3CB9CDAED257453CFA56B9EF81B44C57<10) $R216B8AF75F5E8911B7861CBD4BACB59D = "0".$R3CB9CDAED257453CFA56B9EF81B44C57;     if($this->minuta==$R216B8AF75F5E8911B7861CBD4BACB59D) $R0C9FB48C15CC7995931D5E50006C9080 = "selected";     $R762570F5982E3458E06966E2A335F3BB .= "<option value=\"".$R216B8AF75F5E8911B7861CBD4BACB59D."\"".$R0C9FB48C15CC7995931D5E50006C9080.">".$R216B8AF75F5E8911B7861CBD4BACB59D."</option>\n";     $R0C9FB48C15CC7995931D5E50006C9080="";     }     $R62F27AF2019CCEEC809B69CD8662BE4B = "<select name=\"minuta\" style=\"font-size:10px;\">".$R762570F5982E3458E06966E2A335F3BB."</select>";         $R0202F0CA30337C6D486AEA72EA9612DD .= " ".$R8029A0ACEB72E0D9A46C65DC5DCDE30E.":".$R62F27AF2019CCEEC809B69CD8662BE4B;      $R449AFAE74EF62B34B4C4C766EC56F1A3 = ""; $RFDBA85D152FC23065A46C69E66423369 = ""; $RFAE2C418F0D056B8C6DD31537B978A4D = "";    if($this->datereal==-1) $R449AFAE74EF62B34B4C4C766EC56F1A3=" selected=\"selected\"";    elseif($this->datereal==1) $RFAE2C418F0D056B8C6DD31537B978A4D=" selected=\"selected\"";    else $RFDBA85D152FC23065A46C69E66423369=" selected=\"selected\"";     $R0202F0CA30337C6D486AEA72EA9612DD .="<br /><div style=\"padding-top:10px\">".v_smsmarketing_yourtime."<select name=\"datereal\" style=\"font-size:10px;width:139px;\">     <option value=\"-1\"".$R449AFAE74EF62B34B4C4C766EC56F1A3.">".$R0E7A0A631E791AAA5749A81D5E612CC9." +".v_smsmarketing_hr."</option>\n     <option value=\"0\"".$RFDBA85D152FC23065A46C69E66423369.">".$R0E7A0A631E791AAA5749A81D5E612CC9."</option>\n     <option value=\"1\"".$RFAE2C418F0D056B8C6DD31537B978A4D.">".$R0E7A0A631E791AAA5749A81D5E612CC9." -".v_smsmarketing_hr."</option>\n     </select> (".v_smsmarketing_timezone."<span style=\"cursor:help;\" title=\"".v_smsmarketing_timezone2."\"><a href=\"". $currentIndex ."&submitSmsZone=1&token=".$this->token."\" onclick=\"window.open(this.href);return false;\" style=\"text-decoration: underline;\">".$this->timezone."</a></span>)</div><br /><br />     <div style=\"float:right;\"><input type=\"submit\" value=\"".$this->l(v_smsmarketing_send)."\" name=\"submitSmsMarketingSendSMS\" class=\"button\" /></div>     </div>     </div><div class=\"clear\"></div><br />";    $R0202F0CA30337C6D486AEA72EA9612DD .="__CUSTOMERIDS__<input type=\"hidden\" name=\"timezone\" value=\"".$this->timezone."\" /><input type=\"hidden\" name=\"country\" value=\"".$this->country."\" /><input type=\"hidden\" name=\"city\" value=\"".$this->city."\" /><input type=\"hidden\" name=\"gender\" value=\"".$this->gender."\" /><input type=\"hidden\" name=\"newsletter\" value=\"".$this->newsletter."\" /><input type=\"hidden\" name=\"advert\" value=\"".$this->advert."\" /><input type=\"hidden\" name=\"datebirth1\" value=\"".$this->datebirth1."\" />           <input type=\"hidden\" name=\"datebirth2\" value=\"".$this->datebirth2."\" />           <input type=\"hidden\" name=\"datereg1\" value=\"".$this->datereg1."\" />           <input type=\"hidden\" name=\"datereg2\" value=\"".$this->datereg2."\" />           <input type=\"hidden\" name=\"type\" value=\"".$this->type."\" /><input type=\"hidden\" name=\"groups\" value=\"".$this->groups."\" /><input type=\"hidden\" name=\"store\" value=\"".$this->store."\" /><input type=\"hidden\" name=\"prijmeni\" value=\"".$this->prijmeni."\" /><input type=\"hidden\" name=\"jmeno\" value=\"".$this->jmeno."\" /><input type=\"hidden\" value=\"".$R4EEB713E57BBAAF1217CF39632604473['id_customer']."\" name=\"customer\" /><input type=\"hidden\" name=\"arr_not\" value=\"".@implode("-",$this->arr_not)."\" /><input type=\"hidden\" name=\"d\" value=\"".$this->d."\" />";    $R0202F0CA30337C6D486AEA72EA9612DD .="<input type=\"hidden\" name=\"odesl\" value=\"1\" /><input type=\"hidden\" name=\"arr_not\" value=\"".@implode("-",$this->arr_not)."\" /></form></fieldset><br /><br />    ";     $R0202F0CA30337C6D486AEA72EA9612DD .="<script language=\"javascript\">\nfunction countitSMS() {";   $R0202F0CA30337C6D486AEA72EA9612DD .=" if(document.formSMS.unicode.checked) {  var mnt = [0,1,2,3,4,5];  var mnl = [0,  1,68,135,202,269,];  var mnh = [1,68,135,202,269];  var zaklad;  var text1;  var len;  zaklad = 268;  var unicode = 1; } else {  var  mnt = [0,1,2,3,4,5];  var mnl = [0,  1,154,307,460,613,];  var mnh = [1,154,307,460,613];  var zaklad;  var text1;  var len;  zaklad = 612;  var unicode = 0; }  ";   $R0202F0CA30337C6D486AEA72EA9612DD .=" text1 = document.formSMS.text.value; len = text1.length; var chartext = '".v_smsmarketing_jschars."'; var total = 0;  for (i=0;i<6;i++)    {     if ( len >= mnl[i] && len < mnh[i] )     {     total = mnt[i];     i=100;     }    }  if(unicode==1 && total==2 && len<=70) total=1; else if(unicode==0 && total==2 && len<=160) total=1;  if(totalcustomers>0) document.getElementById('labelSMS').innerHTML = chartext+len+', SMS: '+total+', ".v_smsmarketing_jstotalcustomers." '+totalcustomers+', ".v_smsmarketing_jstotalsms." '+(totalcustomers*total);   if(document.formSMS.text.value.length>zaklad) { alert(\"".v_smsmarketing_longtext."\"); document.formSMS.text.value=document.formSMS.text.value.substring(0,zaklad); }  }  countitSMS();    function AddOthers() {  document.formFilter.text.value=document.formSMS.text.value; document.formFilter.datereal.value=document.formSMS.datereal.value; document.formFilter.hodina.value=document.formSMS.hodina.value; document.formFilter.minuta.value=document.formSMS.minuta.value; document.formFilter.datumodesl.value=document.formSMS.datumodesl.value;   if(document.formSMS.unicode.checked)   {   document.formFilter.unicode.value = 1;   } else  {   document.formFilter.unicode.value = 0;   }  if(document.formSMS.sendlater.checked)   {   document.formFilter.sendlater.value = 1;   } else  {   document.formFilter.sendlater.value = 0;   }  }      function AddOthers5() {  document.form5.text.value=document.formSMS.text.value;  document.form5.datereal.value=document.formSMS.datereal.value; document.form5.hodina.value=document.formSMS.hodina.value; document.form5.minuta.value=document.formSMS.minuta.value; document.form5.datumodesl.value=document.formSMS.datumodesl.value;  if(document.formSMS.unicode.checked)   {   document.form5.unicode.value = 1;  } else  {   document.form5.unicode.value = 0;  } if(document.formSMS.sendlater.checked)   {   document.form5.sendlater.value = 1;  } else  {   document.form5.sendlater.value = 0;  }  }   function AddOthers6() {  document.form6.text.value=document.formSMS.text.value;  document.form6.datumodesl.value=document.formSMS.datumodesl.value; document.form6.datereal.value=document.formSMS.datereal.value; document.form6.hodina.value=document.formSMS.hodina.value; document.form6.minuta.value=document.formSMS.minuta.value;   if(document.formSMS.unicode.checked)   {   document.form6.unicode.value = 1;  } else  {   document.form6.unicode.value = 0;  } if(document.formSMS.sendlater.checked)   {   document.form6.sendlater.value = 1;  } else  {   document.form6.sendlater.value = 0;  }  } </script>\n ";              $R4A91C79975BC3C17E521766DD2DEDF19 = null; $R475BE28BFCA35EC49292DC3C57737CE5 = "";    while(list($R91207D55646CB7DA41E022D31C87A1E8, $R7126CA3F1A0B2D9ECDD263825D207127) = @each($this->arr_not))     {     if($R7126CA3F1A0B2D9ECDD263825D207127>0) $R4A91C79975BC3C17E521766DD2DEDF19[] = $R7126CA3F1A0B2D9ECDD263825D207127;    }    if(count($R4A91C79975BC3C17E521766DD2DEDF19)>0) $R475BE28BFCA35EC49292DC3C57737CE5 = " and id_customer not IN (".@implode(", ",$R4A91C79975BC3C17E521766DD2DEDF19).") ";       $R959F718EA91F21FE834F95B1D71C4BEB .= "<br /><fieldset>      <legend><img src=\"../img/t/AdminTools.gif\" alt=\"\" /> ".$this->l(v_smsmarketing_bulkfilter)."</legend><form name=\"formFilter\" action=\"". $currentIndex ."&submitSmsMarketing=1&token=".$this->token."\" onsubmit=\"AddOthers()\" method=\"post\">";                $R959F718EA91F21FE834F95B1D71C4BEB .= "<div style=\"float:left;width:230px;\">&nbsp;<label style=\"width:50px;font-weight:normal;\" for=\"type\">".v_smsmarketing_store."</label>&nbsp;<select name=\"store\" id=\"store\" style=\"width:120px;margin-bottom:4px;\">";         $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"0\">-->".v_smsmarketing_allstores."</option>";        $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT * FROM "._DB_PREFIX_."shop order by name ";        $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS($R130D64A4AD653C91E0FD80DE8FEADC3A);         if (is_array($R679E9B9234E2062F809DBD3325D37FB6)):         foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)         {          $R8B2267A9CCF41F9CDBA21DE22FA4A946 = "";          if($this->store==$R4EEB713E57BBAAF1217CF39632604473['id_shop']) $R8B2267A9CCF41F9CDBA21DE22FA4A946="selected";          $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"".$R4EEB713E57BBAAF1217CF39632604473['id_shop']."\"{$R8B2267A9CCF41F9CDBA21DE22FA4A946}>".$R4EEB713E57BBAAF1217CF39632604473['name']."\n";          }        endif;    $R959F718EA91F21FE834F95B1D71C4BEB .= "</select></div>";             $R959F718EA91F21FE834F95B1D71C4BEB .= "<div style=\"float:left;width:230px;\">&nbsp;<label style=\"width:50px;font-weight:normal;\" for=\"type\">".v_smsmarketing_typ."</label>&nbsp;<select name=\"type\" id=\"type\" style=\"width:120px;margin-bottom:4px;\">";    $R7BE1926ECA2B181FABBCBEAFD682E34C = ""; $RA2C395A47F39DC70DEB9B87700506450 = "";    if($this->type==1) $R7BE1926ECA2B181FABBCBEAFD682E34C="selected";    elseif($this->type==2) $RA2C395A47F39DC70DEB9B87700506450="selected";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"0\">-->".v_smsmarketing_allcustomers."</option>";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"1\"{$R7BE1926ECA2B181FABBCBEAFD682E34C}>".v_smsmarketing_companycustomers."\n";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"2\"{$RA2C395A47F39DC70DEB9B87700506450}>".v_smsmarketing_privatecustomers."\n";       $R959F718EA91F21FE834F95B1D71C4BEB .= "</select></div><div class=\"clear\"></div>";        $R959F718EA91F21FE834F95B1D71C4BEB .= "<div style=\"float:left;width:210px;\">&nbsp;<label style=\"width:50px;font-weight:normal;\" for=\"country\">".v_smsmarketing_country."</label>&nbsp;<select name=\"country\" id=\"country\" style=\"width:120px;\">";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"0\">-->".v_smsmarketing_allcountries."</option>";        $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT * FROM "._DB_PREFIX_."country_lang where id_lang=1 order by name ";        $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS($R130D64A4AD653C91E0FD80DE8FEADC3A);         if (is_array($R679E9B9234E2062F809DBD3325D37FB6)):         foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)         {          $R8B2267A9CCF41F9CDBA21DE22FA4A946 = "";          if($this->country==$R4EEB713E57BBAAF1217CF39632604473['id_country']) $R8B2267A9CCF41F9CDBA21DE22FA4A946="selected";          $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"".$R4EEB713E57BBAAF1217CF39632604473['id_country']."\"{$R8B2267A9CCF41F9CDBA21DE22FA4A946}>".$R4EEB713E57BBAAF1217CF39632604473['name']."\n";          }        endif;    $R959F718EA91F21FE834F95B1D71C4BEB .= "</select><br />&nbsp;<label style=\"width:50px;font-weight:normal;\" for=\"city\">".v_smsmarketing_city."</label>&nbsp;<input type=\"text\" name=\"city\" id=\"city\" style=\"width:110px;margin-top:4px;\" value=\"".$this->city."\" />";    $R959F718EA91F21FE834F95B1D71C4BEB .= "</div>";     $R959F718EA91F21FE834F95B1D71C4BEB .= "<div style=\"float:left;width:200px;\">&nbsp;<label style=\"width:70px;font-weight:normal;\" for=\"lastname\">".v_smsmarketing_lastname."</label>&nbsp;<input type=\"text\" name=\"prijmeni\" id=\"lastname\" style=\"width:80px;\" value=\"".$this->prijmeni."\" />";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<br />&nbsp;<label style=\"width:70px;font-weight:normal;\" for=\"firstname\">".v_smsmarketing_firstname."</label>&nbsp;<input type=\"text\" name=\"jmeno\" id=\"firstname\" style=\"width:80px;margin-top:4px;\" value=\"".$this->jmeno."\" /></div>";         $R959F718EA91F21FE834F95B1D71C4BEB .= "<div style=\"float:left;width:185px;\">&nbsp;<label style=\"width:60px;font-weight:normal;\" for=\"groups\">".v_smsmarketing_groups."</label>&nbsp;<select name=\"groups\" id=\"groups\" style=\"width:70px;\">";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"0\">-->".v_smsmarketing_all."</option>";        $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT * FROM "._DB_PREFIX_."group_lang where id_lang=1 order by name ";        $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS($R130D64A4AD653C91E0FD80DE8FEADC3A);         if (is_array($R679E9B9234E2062F809DBD3325D37FB6)):         foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)         {          $R8B2267A9CCF41F9CDBA21DE22FA4A946 = "";          if($this->groups==$R4EEB713E57BBAAF1217CF39632604473['id_group']) $R8B2267A9CCF41F9CDBA21DE22FA4A946="selected";          $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"".$R4EEB713E57BBAAF1217CF39632604473['id_group']."\"{$R8B2267A9CCF41F9CDBA21DE22FA4A946}>".$R4EEB713E57BBAAF1217CF39632604473['name']."\n";          }        endif;    $R959F718EA91F21FE834F95B1D71C4BEB .= "</select><br />    &nbsp;<label style=\"width:60px;font-weight:normal;\" for=\"gender\">".v_smsmarketing_gender."</label>&nbsp;<select name=\"gender\" id=\"gender\" style=\"width:70px;margin-top:4px;\">";    $R7BE1926ECA2B181FABBCBEAFD682E34C = ""; $RA2C395A47F39DC70DEB9B87700506450 = "";    if($this->gender==1) $R7BE1926ECA2B181FABBCBEAFD682E34C="selected";    elseif($this->gender==2) $RA2C395A47F39DC70DEB9B87700506450="selected";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"0\">-->".v_smsmarketing_all."</option>";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"1\"{$R7BE1926ECA2B181FABBCBEAFD682E34C}>".v_smsmarketing_male."\n";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"2\"{$RA2C395A47F39DC70DEB9B87700506450}>".v_smsmarketing_female."\n";       $R959F718EA91F21FE834F95B1D71C4BEB .= "</select></div>";      $R959F718EA91F21FE834F95B1D71C4BEB .= "<div style=\"float:left;width:210px;\">&nbsp;<label style=\"width:60px;font-weight:normal;\" for=\"newsletter\">".v_smsmarketing_news."</label>&nbsp;<select name=\"newsletter\" id=\"newsletter\" style=\"width:70px;\">";    $R7BE1926ECA2B181FABBCBEAFD682E34C = ""; $RA2C395A47F39DC70DEB9B87700506450 = "";    if($this->newsletter==1) $R7BE1926ECA2B181FABBCBEAFD682E34C="selected";    elseif($this->newsletter==2) $RA2C395A47F39DC70DEB9B87700506450="selected";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"0\">-->".v_smsmarketing_all."</option>";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"1\"{$R7BE1926ECA2B181FABBCBEAFD682E34C}>".v_smsmarketing_yes."\n";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"2\"{$RA2C395A47F39DC70DEB9B87700506450}>".v_smsmarketing_no."\n";       $R959F718EA91F21FE834F95B1D71C4BEB .= "</select>";       $R959F718EA91F21FE834F95B1D71C4BEB .= "</select><br />    &nbsp;<label style=\"width:60px;font-weight:normal;\" for=\"advert\">".v_smsmarketing_advert."</label>&nbsp;<select name=\"advert\" id=\"advert\" style=\"width:70px;margin-top:4px;\">";    $R7BE1926ECA2B181FABBCBEAFD682E34C = ""; $RA2C395A47F39DC70DEB9B87700506450 = "";    if($this->advert==1) $R7BE1926ECA2B181FABBCBEAFD682E34C="selected";    elseif($this->advert==2) $RA2C395A47F39DC70DEB9B87700506450="selected";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"0\">-->".v_smsmarketing_all."</option>";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"1\"{$R7BE1926ECA2B181FABBCBEAFD682E34C}>".v_smsmarketing_yes."\n";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<option value=\"2\"{$RA2C395A47F39DC70DEB9B87700506450}>".v_smsmarketing_no."\n";       $R959F718EA91F21FE834F95B1D71C4BEB .= "</select></div>";      $R959F718EA91F21FE834F95B1D71C4BEB .= "<div style=\"float:right;width:90px;text-align:right;\">";    $R959F718EA91F21FE834F95B1D71C4BEB .="<input type=\"submit\" value=\"".$this->l(v_smsmarketing_applyfilter)."\" name=\"submitSmsHistory\" class=\"button\" /><input type=\"hidden\" name=\"odesl\" value=\"1\" />         <input type=\"hidden\" name=\"arr_not\" value=\"".@implode("-",$this->arr_not)."\" />      </div><div class=\"clear\"></div>";    $R959F718EA91F21FE834F95B1D71C4BEB .= "<div style=\"margin-top:12px; verticall-align:middle;\">";     if(!$this->datebirth1) $this->datebirth1 = '1900-01-01';    if(!$this->datebirth2) $this->datebirth2 = date('Y-m-d');     $R959F718EA91F21FE834F95B1D71C4BEB .= "".v_smsmarketing_birthfrom."<script>DateInput('datebirth1', true, 'YYYY-MM-DD','".$this->datebirth1."')</script>".v_smsmarketing_birthto."<script>DateInput('datebirth2', true, 'YYYY-MM-DD','".$this->datebirth2."')</script>";     if(!$this->datereg1) $this->datereg1 = '1900-01-01';    if(!$this->datereg2) $this->datereg2 = date('Y-m-d');    $R959F718EA91F21FE834F95B1D71C4BEB .= "&nbsp;".v_smsmarketing_registerfrom."<script>DateInput('datereg1', true, 'YYYY-MM-DD','".$this->datereg1."')</script>to: <script>DateInput('datereg2', true, 'YYYY-MM-DD','".$this->datereg2."')</script>";      $R959F718EA91F21FE834F95B1D71C4BEB .= "</div><input type=\"hidden\" name=\"text\" value=\"".$this->text."\" /><input type=\"hidden\" name=\"unicode\" value=\"".$this->unicode."\" /><input type=\"hidden\" name=\"sendlater\" value=\"".$this->sendlater."\" /><input type=\"hidden\" name=\"datumodesl\" value=\"".$this->datumodesl."\" /><input type=\"hidden\" name=\"datereal\" value=\"".$this->datereal."\" /><input type=\"hidden\" name=\"hodina\" value=\"".$this->hodina."\" /><input type=\"hidden\" name=\"minuta\" value=\"".$this->minuta."\" />";    $R959F718EA91F21FE834F95B1D71C4BEB .="</form></fieldset><br /><br />    <div class=\"clear\"></div>";       $R5B2A3ACA17375762D75E625944A27415 = ""; $R251B5402110C0DD5B34ECE647FE21818 = "";    if($this->country>0) $R5B2A3ACA17375762D75E625944A27415 = " and id_country=".$this->country;    if(strlen($this->city)>0) $R251B5402110C0DD5B34ECE647FE21818 = " and city like '%".$this->city."%'";    if(strlen($this->prijmeni)>0) $R667B3D014CF808352C0310D4E261F619 = " and lastname like '%".$this->prijmeni."%'";    if(strlen($this->jmeno)>0) $R6425BA8B9837ED9C845187E46A72B9C9 = " and firstname like '%".$this->jmeno."%'";              $R2C3739DB86E105096D542D179A8F89B4 = "";    if($this->groups>0):      $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT id_customer FROM "._DB_PREFIX_."customer_group where id_group=".$this->groups;      $RBCAD8604F1365528276ACD3796428C41 = Db::getInstance()->ExecuteS($R130D64A4AD653C91E0FD80DE8FEADC3A);            if (is_array($RBCAD8604F1365528276ACD3796428C41)):       foreach ($RBCAD8604F1365528276ACD3796428C41 AS $RAE4E28E7724955F5B614DF10CE9B16A4)       {        $R857720B5254B3D4802FDCD460FF482D2[] = $RAE4E28E7724955F5B614DF10CE9B16A4["id_customer"];       }       $R2C3739DB86E105096D542D179A8F89B4 = " and id_customer IN (".@implode(",", $R857720B5254B3D4802FDCD460FF482D2).")";      endif;    endif;                   $R48B6BDC4B675C249974A3974BF022C72 = "";    if($this->store>0):      $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT id_customer FROM "._DB_PREFIX_."customer where id_shop=".$this->store;      $RBCAD8604F1365528276ACD3796428C41 = Db::getInstance()->ExecuteS($R130D64A4AD653C91E0FD80DE8FEADC3A);            if (is_array($RBCAD8604F1365528276ACD3796428C41)):       foreach ($RBCAD8604F1365528276ACD3796428C41 AS $RAE4E28E7724955F5B614DF10CE9B16A4)       {        $R217C3C87D3A10CAF417B0AB70493DE77[] = $RAE4E28E7724955F5B614DF10CE9B16A4["id_customer"];       }       $R48B6BDC4B675C249974A3974BF022C72 = " and id_customer IN (".@implode(",", $R217C3C87D3A10CAF417B0AB70493DE77).")";      endif;    endif;              $RD58FEA795B47C427917C50C7E849E03F = "";    if($this->gender>0):      $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT id_customer FROM "._DB_PREFIX_."customer where id_gender=".$this->gender;      $RBCAD8604F1365528276ACD3796428C41 = Db::getInstance()->ExecuteS($R130D64A4AD653C91E0FD80DE8FEADC3A);            if (is_array($RBCAD8604F1365528276ACD3796428C41)):       foreach ($RBCAD8604F1365528276ACD3796428C41 AS $RAE4E28E7724955F5B614DF10CE9B16A4)       {        $R0EF3C256F5F6A1A1484897E02C9AEFD9[] = $RAE4E28E7724955F5B614DF10CE9B16A4["id_customer"];       }       $RD58FEA795B47C427917C50C7E849E03F = " and id_customer IN (".@implode(",", $R0EF3C256F5F6A1A1484897E02C9AEFD9).")";      endif;    endif;         $R3325069F97998CB4B2F346B0E14335FB = "";    if($this->newsletter>0):          if($this->newsletter==1) $R91CAD299D7967E3DE95EFC994960CF3D = 1;      elseif($this->newsletter==2) $R91CAD299D7967E3DE95EFC994960CF3D = 0;      $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT id_customer FROM "._DB_PREFIX_."customer where newsletter=".$R91CAD299D7967E3DE95EFC994960CF3D;      $RBCAD8604F1365528276ACD3796428C41 = Db::getInstance()->ExecuteS($R130D64A4AD653C91E0FD80DE8FEADC3A);            if (is_array($RBCAD8604F1365528276ACD3796428C41)):       foreach ($RBCAD8604F1365528276ACD3796428C41 AS $RAE4E28E7724955F5B614DF10CE9B16A4)       {        $R80322DA443781995EA8AC9C23F94B6FF[] = $RAE4E28E7724955F5B614DF10CE9B16A4["id_customer"];       }       $R3325069F97998CB4B2F346B0E14335FB = " and id_customer IN (".@implode(",", $R80322DA443781995EA8AC9C23F94B6FF).")";      endif;    endif;      $R9EE568093C42E9A29B7FD9151579EE99 = "";    if($this->advert>0):          if($this->advert==1) $R7C95DB5F59AD25979419D0AD0FA309F8 = 1;      elseif($this->advert==2) $R7C95DB5F59AD25979419D0AD0FA309F8 = 0;      $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT id_customer FROM "._DB_PREFIX_."customer where optin=".$R7C95DB5F59AD25979419D0AD0FA309F8;      $RBCAD8604F1365528276ACD3796428C41 = Db::getInstance()->ExecuteS($R130D64A4AD653C91E0FD80DE8FEADC3A);            if (is_array($RBCAD8604F1365528276ACD3796428C41)):       foreach ($RBCAD8604F1365528276ACD3796428C41 AS $RAE4E28E7724955F5B614DF10CE9B16A4)       {        $RD31A172718E782982D23D00E308AF211[] = $RAE4E28E7724955F5B614DF10CE9B16A4["id_customer"];       }       $R9EE568093C42E9A29B7FD9151579EE99 = " and id_customer IN (".@implode(",", $RD31A172718E782982D23D00E308AF211).")";      endif;    endif;     $R3D58EC9DDCE6B25324618AE8EB627244 = "";    if($this->type>0):          if($this->type==1) $R3D58EC9DDCE6B25324618AE8EB627244 = " and (company not like '' and company not like 'NULL' )";       elseif($this->type==2) $R3D58EC9DDCE6B25324618AE8EB627244 = " and (company like '' or company like 'NULL')";           endif;        $RC46B09FB848954176EB74EB8A9849FCB = "";    if($this->datebirth1!='1900-01-01' || $this->datebirth2!=date("Y-m-d") ):          if($this->datebirth1!='1900-01-01' && $this->datebirth2!=date("Y-m-d")):        $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT id_customer FROM "._DB_PREFIX_."customer where birthday>='".$this->datebirth1."' and birthday<='".$this->datebirth2."' ";      elseif($this->datebirth1!='1900-01-01'):        $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT id_customer FROM "._DB_PREFIX_."customer where birthday>='".$this->datebirth1."' ";           elseif($this->datebirth2!=date("Y-m-d")):        $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT id_customer FROM "._DB_PREFIX_."customer where birthday<='".$this->datebirth2."' ";      endif;               $RBCAD8604F1365528276ACD3796428C41 = Db::getInstance()->ExecuteS($R130D64A4AD653C91E0FD80DE8FEADC3A);            if (is_array($RBCAD8604F1365528276ACD3796428C41)):       foreach ($RBCAD8604F1365528276ACD3796428C41 AS $RAE4E28E7724955F5B614DF10CE9B16A4)       {        $R85559A46AE67332B3178614071B27517[] = $RAE4E28E7724955F5B614DF10CE9B16A4["id_customer"];       }       $RC46B09FB848954176EB74EB8A9849FCB = " and id_customer IN (".@implode(",", $R85559A46AE67332B3178614071B27517).")";      endif;    endif;       $RBA7C5D6ED45514031CFF8641B3EEEA81 = "";    if($this->datereg1!='1900-01-01' || $this->datereg2!=date("Y-m-d") ):          if($this->datereg1!='1900-01-01' && $this->datereg2!=date("Y-m-d")):        $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT id_customer FROM "._DB_PREFIX_."customer where date_add>='".$this->datereg1."' and date_add<='".$this->datereg2."' ";      elseif($this->datereg1!='1900-01-01'):        $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT id_customer FROM "._DB_PREFIX_."customer where date_add>='".$this->datereg1."' ";           elseif($this->datereg2!=date("Y-m-d")):        $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT id_customer FROM "._DB_PREFIX_."customer where date_add<='".$this->datereg2."' ";      endif;           $RBCAD8604F1365528276ACD3796428C41 = Db::getInstance()->ExecuteS($R130D64A4AD653C91E0FD80DE8FEADC3A);            if (is_array($RBCAD8604F1365528276ACD3796428C41)):       foreach ($RBCAD8604F1365528276ACD3796428C41 AS $RAE4E28E7724955F5B614DF10CE9B16A4)       {        $R80716BADF2D2C4D22632BCA30BB8F082[] = $RAE4E28E7724955F5B614DF10CE9B16A4["id_customer"];       }       $RBA7C5D6ED45514031CFF8641B3EEEA81 = " and id_customer IN (".@implode(",", $R80716BADF2D2C4D22632BCA30BB8F082).")";      endif;    endif;          $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT id_address,count(*) as pocet FROM "._DB_PREFIX_."address where active=1 and deleted=0 ".$R5B2A3ACA17375762D75E625944A27415.$R251B5402110C0DD5B34ECE647FE21818.$R667B3D014CF808352C0310D4E261F619.$R6425BA8B9837ED9C845187E46A72B9C9.$R2C3739DB86E105096D542D179A8F89B4.$R48B6BDC4B675C249974A3974BF022C72.$RD58FEA795B47C427917C50C7E849E03F.$R3325069F97998CB4B2F346B0E14335FB.$R9EE568093C42E9A29B7FD9151579EE99.$R3D58EC9DDCE6B25324618AE8EB627244.$RC46B09FB848954176EB74EB8A9849FCB.$RBA7C5D6ED45514031CFF8641B3EEEA81.$R475BE28BFCA35EC49292DC3C57737CE5." and phone_mobile NOT LIKE '' GROUP BY id_customer";     $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS($R130D64A4AD653C91E0FD80DE8FEADC3A);        if (is_array($R679E9B9234E2062F809DBD3325D37FB6)):     foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)     {      $R8862AC4E3B4EB76DFEE46BCDCF504D60++;      $this->customerIDs[] = $R4EEB713E57BBAAF1217CF39632604473["id_address"];     }    endif;       $R2F07CBF3A0A11449BA22ED34CE01904E=50;           if($this->d<0):    $this->d=0;    elseif($this->d>$R8862AC4E3B4EB76DFEE46BCDCF504D60):    $this->d=0;    endif;    $RBE4C4D037E939226F65812885A53DAD9=$this->d+0;                  if($R8862AC4E3B4EB76DFEE46BCDCF504D60>0):      $RFE0CF68BB00292FD9EC9144A04B8DD13=$this->d+1;     if($R8862AC4E3B4EB76DFEE46BCDCF504D60<$this->d+$R2F07CBF3A0A11449BA22ED34CE01904E):      $RBBFCE2D7E91730EEF66C75776FC8B208=$R8862AC4E3B4EB76DFEE46BCDCF504D60;     else:      $RBBFCE2D7E91730EEF66C75776FC8B208=$this->d+$R2F07CBF3A0A11449BA22ED34CE01904E;     endif;     if(!$R8862AC4E3B4EB76DFEE46BCDCF504D60>0) $RFE0CF68BB00292FD9EC9144A04B8DD13=0;     $R959F718EA91F21FE834F95B1D71C4BEB .='<br /><div>     <fieldset>     <legend><img src="../img/t/AdminCatalog.gif" alt="" /> '.$this->l(v_smsmarketing_customersfound.$R8862AC4E3B4EB76DFEE46BCDCF504D60.' ('.v_smsmarketing_results.' '.$RFE0CF68BB00292FD9EC9144A04B8DD13." - ".$RBBFCE2D7E91730EEF66C75776FC8B208).')</legend>';              $R3F0E5CF983BBB4BDCD89E201A0692EB1 = '';                      $R3F0E5CF983BBB4BDCD89E201A0692EB1 = " style=\"padding-top:5px; padding-bottom:5px; border-bottom: 1px solid white; background-color:#ffffff\";";                                             $R959F718EA91F21FE834F95B1D71C4BEB .= "<div".$R3F0E5CF983BBB4BDCD89E201A0692EB1."><div style=\"float:right;width:40px;\">".v_smsmarketing_action."</div><div style=\"float:right;margin-right:130px;width:140px;text-align:left;\">".v_smsmarketing_mobilenr."</div>           <div style=\"float:right;margin-right:100px;width:160px;text-align:left;\">".v_smsmarketing_firstname2."</div><div style=\"float:right;margin-right:100px;width:160px;text-align:left;\">".v_smsmarketing_lastname2."</div>&nbsp;".v_smsmarketing_customerid."</div>";       $R130D64A4AD653C91E0FD80DE8FEADC3A = "SELECT * FROM "._DB_PREFIX_."address where active=1 and deleted=0 ".$R5B2A3ACA17375762D75E625944A27415.$R251B5402110C0DD5B34ECE647FE21818.$R667B3D014CF808352C0310D4E261F619.$R6425BA8B9837ED9C845187E46A72B9C9.$R2C3739DB86E105096D542D179A8F89B4.$RD58FEA795B47C427917C50C7E849E03F.$R3325069F97998CB4B2F346B0E14335FB.$R9EE568093C42E9A29B7FD9151579EE99.$R3D58EC9DDCE6B25324618AE8EB627244.$RC46B09FB848954176EB74EB8A9849FCB.$RBA7C5D6ED45514031CFF8641B3EEEA81.$R475BE28BFCA35EC49292DC3C57737CE5." and phone_mobile NOT LIKE '' GROUP BY id_customer  limit $RBE4C4D037E939226F65812885A53DAD9,$R2F07CBF3A0A11449BA22ED34CE01904E";        $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS($R130D64A4AD653C91E0FD80DE8FEADC3A);         if (is_array($R679E9B9234E2062F809DBD3325D37FB6)):         foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)         {                                $R3C30938F2091F1A67B3AAF784CB7C4A2++;           $R3F0E5CF983BBB4BDCD89E201A0692EB1 = '';           if($R3C30938F2091F1A67B3AAF784CB7C4A2%2==0):            $R3F0E5CF983BBB4BDCD89E201A0692EB1 = " style=\"padding-top:5px; padding-bottom:5px; border-bottom: 1px solid white; background-color:#ffffff\";";           else:            $R3F0E5CF983BBB4BDCD89E201A0692EB1 = " style=\"padding-top:5px; padding-bottom:5px; border-bottom: 1px solid white;\"";           endif;                                    $RB16076D163D05DAB19B2A4DEAADF9367 = '';           $RB16076D163D05DAB19B2A4DEAADF9367 = "           <script language=\"javascript\">\n           function AddOthers4".$R3C30938F2091F1A67B3AAF784CB7C4A2."() {             document.form4".$R3C30938F2091F1A67B3AAF784CB7C4A2.".text.value=document.formSMS.text.value;            document.form4".$R3C30938F2091F1A67B3AAF784CB7C4A2.".datereal.value=document.formSMS.datereal.value;            document.form4".$R3C30938F2091F1A67B3AAF784CB7C4A2.".hodina.value=document.formSMS.hodina.value;            document.form4".$R3C30938F2091F1A67B3AAF784CB7C4A2.".minuta.value=document.formSMS.minuta.value;            document.form4".$R3C30938F2091F1A67B3AAF784CB7C4A2.".datumodesl.value=document.formSMS.datumodesl.value;            if(document.formSMS.unicode.checked)              {              document.form4".$R3C30938F2091F1A67B3AAF784CB7C4A2.".unicode.value = 1;             }            else  {              document.form4".$R3C30938F2091F1A67B3AAF784CB7C4A2.".unicode.value = 0;             }            if(document.formSMS.sendlater.checked)              {              document.form4".$R3C30938F2091F1A67B3AAF784CB7C4A2.".sendlater.value = 1;             }            else  {              document.form4".$R3C30938F2091F1A67B3AAF784CB7C4A2.".sendlater.value = 0;             }                        }           </script>           <form action=\"". $currentIndex ."&submitSmsMarketingRemove=1&token=".$this->token."\" method=\"post\" name=\"form4".$R3C30938F2091F1A67B3AAF784CB7C4A2."\" onsubmit=\"AddOthers4".$R3C30938F2091F1A67B3AAF784CB7C4A2."()\"><span style=\"cursor:help;\" title=\"".v_smsmarketing_removecustomer."\"><input type=\"image\" src='../modules/smsprestashop/i_canceled.gif' style='border:0px;vertical-align:middle;' alt=\"".v_smsmarketing_removecustomer."\" /><input type=\"hidden\" name=\"country\" value=\"".$this->country."\" /><input type=\"hidden\" name=\"city\" value=\"".$this->city."\" /><input type=\"hidden\" name=\"gender\" value=\"".$this->gender."\" /><input type=\"hidden\" name=\"newsletter\" value=\"".$this->newsletter."\" /><input type=\"hidden\" name=\"advert\" value=\"".$this->advert."\" />           <input type=\"hidden\" name=\"text\" value=\"".$this->text."\" /><input type=\"hidden\" name=\"unicode\" value=\"".$this->unicode."\" /><input type=\"hidden\" name=\"sendlater\" value=\"".$this->sendlater."\" /><input type=\"hidden\" name=\"datereal\" value=\"".$this->datereal."\" /><input type=\"hidden\" name=\"hodina\" value=\"".$this->hodina."\" /><input type=\"hidden\" name=\"minuta\" value=\"".$this->minuta."\" /><input type=\"hidden\" name=\"datumodesl\" value=\"".$this->datumodesl."\" />           <input type=\"hidden\" name=\"datebirth1\" value=\"".$this->datebirth1."\" />           <input type=\"hidden\" name=\"datebirth2\" value=\"".$this->datebirth2."\" />           <input type=\"hidden\" name=\"datereg1\" value=\"".$this->datereg1."\" />           <input type=\"hidden\" name=\"datereg2\" value=\"".$this->datereg2."\" />           <input type=\"hidden\" name=\"type\" value=\"".$this->type."\" /><input type=\"hidden\" name=\"groups\" value=\"".$this->groups."\" /><input type=\"hidden\" name=\"store\" value=\"".$this->store."\" /><input type=\"hidden\" name=\"prijmeni\" value=\"".$this->prijmeni."\" /><input type=\"hidden\" name=\"jmeno\" value=\"".$this->jmeno."\" /><input type=\"hidden\" value=\"".$R4EEB713E57BBAAF1217CF39632604473['id_customer']."\" name=\"customer\" /><input type=\"hidden\" name=\"arr_not\" value=\"".@implode("-",$this->arr_not)."\" /><input type=\"hidden\" name=\"d\" value=\"".$this->d."\" /></span></form>";                     $R57B368279F4F3D6C20928DCA0A312803 = "";           $R57B368279F4F3D6C20928DCA0A312803 = "<span style=\"cursor:help;\" title=\"".v_smshistory_customerdetail."\"><a href=\"". $currentIndex ."&submitSmsCustomer=1&id_customer=".$R4EEB713E57BBAAF1217CF39632604473['id_customer']."&token=".$this->token."\" onclick=\"window.open(this.href);return false;\" style=\"text-decoration: underline;\">".$R4EEB713E57BBAAF1217CF39632604473['id_customer']."</a></span>";            $R959F718EA91F21FE834F95B1D71C4BEB .= "<div".$R3F0E5CF983BBB4BDCD89E201A0692EB1."><div style=\"float:right;width:40px;\">".$RB16076D163D05DAB19B2A4DEAADF9367."</div><div style=\"float:right;margin-right:130px;width:140px;text-align:left;\">".$R4EEB713E57BBAAF1217CF39632604473['phone_mobile']."</div>           <div style=\"float:right;margin-right:100px;width:160px;text-align:left;\">".Utils::more_text($R4EEB713E57BBAAF1217CF39632604473['firstname'], 16, 18)."</div><div style=\"float:right;margin-right:100px;width:160px;text-align:left;\">".Utils::more_text($R4EEB713E57BBAAF1217CF39632604473['lastname'], 16, 18)."</div>&nbsp;".$R57B368279F4F3D6C20928DCA0A312803."</div>";           }         $R959F718EA91F21FE834F95B1D71C4BEB .="<div style=\"text-align:center; padding-top:8px;\">";                    $RC4DFDE7C36AEFEFD11F8200457E82220=$RBE4C4D037E939226F65812885A53DAD9+$R2F07CBF3A0A11449BA22ED34CE01904E;         $R77373590C3A2E29B5658A2ACC48250CB=$RBE4C4D037E939226F65812885A53DAD9-$R2F07CBF3A0A11449BA22ED34CE01904E;         if($R8862AC4E3B4EB76DFEE46BCDCF504D60>$R77373590C3A2E29B5658A2ACC48250CB && !$this->d<=0):          if($R77373590C3A2E29B5658A2ACC48250CB<1):          $R77373590C3A2E29B5658A2ACC48250CB=0;          endif;          $R959F718EA91F21FE834F95B1D71C4BEB .="<div style=\"float:left;\"><form name=\"form5\" action=\"". $currentIndex ."&submitSmsMarketingPrevious=1&token=".$this->token."\" method=\"post\" onsubmit=\"AddOthers5()\"><input type=\"submit\" value=\"".$this->l(v_smsmarketing_previous)."\" name=\"submitSmsHistoryPrevious\" class=\"button\" />          <input type=\"hidden\" name=\"odesl\" value=\"1\" />          <input type=\"hidden\" name=\"country\" value=\"".$this->country."\" />          <input type=\"hidden\" name=\"city\" value=\"".$this->city."\" />          <input type=\"hidden\" name=\"prijmeni\" value=\"".$this->prijmeni."\" /><input type=\"hidden\" name=\"jmeno\" value=\"".$this->jmeno."\" />          <input type=\"hidden\" name=\"gender\" value=\"".$this->gender."\" /><input type=\"hidden\" name=\"groups\" value=\"".$this->groups."\" /><input type=\"hidden\" name=\"store\" value=\"".$this->store."\" />          <input type=\"hidden\" name=\"newsletter\" value=\"".$this->newsletter."\" /><input type=\"hidden\" name=\"advert\" value=\"".$this->advert."\" /><input type=\"hidden\" name=\"type\" value=\"".$this->type."\" /><input type=\"hidden\" name=\"text\" value=\"".$this->text."\" /><input type=\"hidden\" name=\"unicode\" value=\"".$this->unicode."\" /><input type=\"hidden\" name=\"sendlater\" value=\"".$this->sendlater."\" /><input type=\"hidden\" name=\"datereal\" value=\"".$this->datereal."\" /><input type=\"hidden\" name=\"hodina\" value=\"".$this->hodina."\" /><input type=\"hidden\" name=\"minuta\" value=\"".$this->minuta."\" /><input type=\"hidden\" name=\"datumodesl\" value=\"".$this->datumodesl."\" />          <input type=\"hidden\" name=\"datebirth1\" value=\"".$this->datebirth1."\" />          <input type=\"hidden\" name=\"datebirth2\" value=\"".$this->datebirth2."\" />          <input type=\"hidden\" name=\"datereg1\" value=\"".$this->datereg1."\" />          <input type=\"hidden\" name=\"datereg2\" value=\"".$this->datereg2."\" />          <input type=\"hidden\" name=\"arr_not\" value=\"".@implode("-",$this->arr_not)."\" />          <input type=\"hidden\" name=\"d\" value=\"".$R77373590C3A2E29B5658A2ACC48250CB."\" />          </form></div>";         endif;         if($R8862AC4E3B4EB76DFEE46BCDCF504D60>$RC4DFDE7C36AEFEFD11F8200457E82220):          $R959F718EA91F21FE834F95B1D71C4BEB .="<div style=\"float:right;\"><form name=\"form6\" action=\"". $currentIndex ."&submitSmsMarketingNext=1&token=".$this->token."\" method=\"post\" onsubmit=\"AddOthers6()\"><input type=\"submit\" value=\"".$this->l(v_smsmarketing_next)."\" name=\"submitSmsHistoryNext\" class=\"button\" />          <input type=\"hidden\" name=\"odesl\" value=\"1\" />          <input type=\"hidden\" name=\"country\" value=\"".$this->country."\" />          <input type=\"hidden\" name=\"city\" value=\"".$this->city."\" />          <input type=\"hidden\" name=\"prijmeni\" value=\"".$this->prijmeni."\" /><input type=\"hidden\" name=\"jmeno\" value=\"".$this->jmeno."\" />          <input type=\"hidden\" name=\"gender\" value=\"".$this->gender."\" /><input type=\"hidden\" name=\"groups\" value=\"".$this->groups."\" /><input type=\"hidden\" name=\"store\" value=\"".$this->store."\" />          <input type=\"hidden\" name=\"newsletter\" value=\"".$this->newsletter."\" /><input type=\"hidden\" name=\"advert\" value=\"".$this->advert."\" /><input type=\"hidden\" name=\"type\" value=\"".$this->type."\" /><input type=\"hidden\" name=\"text\" value=\"".$this->text."\" /><input type=\"hidden\" name=\"unicode\" value=\"".$this->unicode."\" /><input type=\"hidden\" name=\"sendlater\" value=\"".$this->sendlater."\" /><input type=\"hidden\" name=\"datereal\" value=\"".$this->datereal."\" /><input type=\"hidden\" name=\"hodina\" value=\"".$this->hodina."\" /><input type=\"hidden\" name=\"minuta\" value=\"".$this->minuta."\" /><input type=\"hidden\" name=\"datumodesl\" value=\"".$this->datumodesl."\" />          <input type=\"hidden\" name=\"datebirth1\" value=\"".$this->datebirth1."\" />          <input type=\"hidden\" name=\"datebirth2\" value=\"".$this->datebirth2."\" />          <input type=\"hidden\" name=\"datereg1\" value=\"".$this->datereg1."\" />          <input type=\"hidden\" name=\"datereg2\" value=\"".$this->datereg2."\" />          <input type=\"hidden\" name=\"d\" value=\"".$RC4DFDE7C36AEFEFD11F8200457E82220."\" />          <input type=\"hidden\" name=\"arr_not\" value=\"".@implode("-",$this->arr_not)."\" />          </form></div>";         endif;                 if($R8862AC4E3B4EB76DFEE46BCDCF504D60>0):         $RA6FACDA367AE8356A7C73187E48972E8 = ceil($R8862AC4E3B4EB76DFEE46BCDCF504D60/$R2F07CBF3A0A11449BA22ED34CE01904E);         $R959F718EA91F21FE834F95B1D71C4BEB .=  "<br />";           for($R20E6DC991E9E03619A296A1ACED546A8=0;$R20E6DC991E9E03619A296A1ACED546A8<$RA6FACDA367AE8356A7C73187E48972E8;$R20E6DC991E9E03619A296A1ACED546A8++)             {                    if(($R2F07CBF3A0A11449BA22ED34CE01904E*$R20E6DC991E9E03619A296A1ACED546A8)==$RBE4C4D037E939226F65812885A53DAD9) $RF1D12BC94AE6DAB5AA754AD68C91021A[] =   ($R20E6DC991E9E03619A296A1ACED546A8+1);           elseif($R20E6DC991E9E03619A296A1ACED546A8==0) $RF1D12BC94AE6DAB5AA754AD68C91021A[] =  "<a style=\"text-decoration:underline;\" href=\"". $currentIndex ."&submitSmsMarketingPage=1&token=".$this->token."&arr_not=".@implode("-",$this->arr_not)."&datumodesl=".$this->datumodesl."&type=".$this->type."&newsletter=".$this->newsletter."&datebirth1=".$this->datebirth1."&datebirth2=".$this->datebirth2."&datereg1=".$this->datereg1."&datereg2=".$this->datereg2."&advert=".$this->advert."&gender=".$this->gender."&store=".$this->store."&groups=".$this->groups."&jmeno=".$this->jmeno."&prijmeni=".$this->prijmeni."&city=".$this->city."&country=".$this->country."&odesl=".$this->odesl."&hodina=".$this->hodina."&minuta=".$this->minuta."&datereal=".$this->datereal."&sendlater=".$this->sendlater."&unicode=".$this->unicode."&text=".urldecode($this->text)."\">". ($R20E6DC991E9E03619A296A1ACED546A8+1)."</a>";          else $RF1D12BC94AE6DAB5AA754AD68C91021A[] =  "<a style=\"text-decoration:underline;\" href=\"". $currentIndex ."&submitSmsMarketingPage=1&token=".$this->token."&d=".($R2F07CBF3A0A11449BA22ED34CE01904E*$R20E6DC991E9E03619A296A1ACED546A8)."&odesl=".$this->odesl."&datumodesl=".$this->datumodesl."&hodina=".$this->hodina."&minuta=".$this->minuta."&datereal=".$this->datereal."&sendlater=".$this->sendlater."&type=".$this->type."&newsletter=".$this->newsletter."&advert=".$this->advert."&datebirth1=".$this->datebirth1."&datebirth2=".$this->datebirth2."&datereg1=".$this->datereg1."&datereg2=".$this->datereg2."&gender=".$this->gender."&store=".$this->store."&groups=".$this->groups."&arr_not=".@implode("-",$this->arr_not)."&jmeno=".$this->jmeno."&prijmeni=".$this->prijmeni."&city=".$this->city."&country=".$this->country."&unicode=".$this->unicode."&text=".urldecode($this->text)."\">". ($R20E6DC991E9E03619A296A1ACED546A8+1)."</a>";          }          if(count($RF1D12BC94AE6DAB5AA754AD68C91021A)>1) $R959F718EA91F21FE834F95B1D71C4BEB .=  v_smsmarketing_page.@implode(" | ",$RF1D12BC94AE6DAB5AA754AD68C91021A);          endif;         $R959F718EA91F21FE834F95B1D71C4BEB .="</div><div class=\"clear\"></div>";          endif;                                    $R2D5DC4ED8BFF2F10FF4FA87917B082CA .= '       <h2>'.$this->l(v_smsmarketing_smsmarketingfound.$R8862AC4E3B4EB76DFEE46BCDCF504D60).'</h2><p>'.v_smsmarketing_description.'</p>';     $R2D5DC4ED8BFF2F10FF4FA87917B082CA .= "<script language=\"javascript\">var totalcustomers = ".$R8862AC4E3B4EB76DFEE46BCDCF504D60.";</script>";          $R0202F0CA30337C6D486AEA72EA9612DD = preg_replace("/__CUSTOMERIDS__/", "<input type=\"hidden\" name=\"customerIDs\" value=\"".@implode(";",$this->customerIDs)."\" />", $R0202F0CA30337C6D486AEA72EA9612DD);           else:     $R2D5DC4ED8BFF2F10FF4FA87917B082CA .= '       <h2>'.$this->l(v_smsmarketing_smsmarketing).'</h2>';     $R2D5DC4ED8BFF2F10FF4FA87917B082CA .= "<script language=\"javascript\">var totalcustomers = 0;</script>";     $R959F718EA91F21FE834F95B1D71C4BEB .= '     <div style="padding-left:10px;">     <b>'.v_smsmarketing_nocustomers.'</b></div><br />';     $R0202F0CA30337C6D486AEA72EA9612DD = preg_replace("/__CUSTOMERIDS__/", "<input type=\"hidden\" name=\"customerIDs\" value=\"\" />", $R0202F0CA30337C6D486AEA72EA9612DD);     endif;                  echo $R2D5DC4ED8BFF2F10FF4FA87917B082CA.$R0202F0CA30337C6D486AEA72EA9612DD.$R959F718EA91F21FE834F95B1D71C4BEB;                     else:     echo '      <h2>'.$this->l(v_smsmarketing_smsnotactive).'</h2>    <div>'.v_smsmarketing_usernotactive.'</div>';   endif;        }         public function postProcess()  {          if (Tools::isSubmit('submitSmsMarketing') )   {     $this->newsletter = htmlentities( Tools::getValue( 'newsletter' ), ENT_COMPAT, 'UTF-8' );    $this->advert = htmlentities( Tools::getValue( 'advert' ), ENT_COMPAT, 'UTF-8' );     $this->text = htmlentities( Tools::getValue( 'text' ), ENT_COMPAT, 'UTF-8' );    $this->unicode = htmlentities( Tools::getValue( 'unicode' ), ENT_COMPAT, 'UTF-8' );    $this->sendlater = htmlentities( Tools::getValue( 'sendlater' ), ENT_COMPAT, 'UTF-8' );    $this->datereal = htmlentities( Tools::getValue( 'datereal' ), ENT_COMPAT, 'UTF-8' );    $this->hodina = htmlentities( Tools::getValue( 'hodina' ), ENT_COMPAT, 'UTF-8' );    $this->minuta = htmlentities( Tools::getValue( 'minuta' ), ENT_COMPAT, 'UTF-8' );    $this->datumodesl = htmlentities( Tools::getValue( 'datumodesl' ), ENT_COMPAT, 'UTF-8' );      $this->datebirth1 = htmlentities( Tools::getValue( 'datebirth1' ), ENT_COMPAT, 'UTF-8' );    $this->datebirth2 = htmlentities( Tools::getValue( 'datebirth2' ), ENT_COMPAT, 'UTF-8' );    $this->datereg1 = htmlentities( Tools::getValue( 'datereg1' ), ENT_COMPAT, 'UTF-8' );    $this->datereg2 = htmlentities( Tools::getValue( 'datereg2' ), ENT_COMPAT, 'UTF-8' );     $this->type = htmlentities( Tools::getValue( 'type' ), ENT_COMPAT, 'UTF-8' );    $this->gender = htmlentities( Tools::getValue( 'gender' ), ENT_COMPAT, 'UTF-8' );    $this->groups = htmlentities( Tools::getValue( 'groups' ), ENT_COMPAT, 'UTF-8' );    $this->store = htmlentities( Tools::getValue( 'store' ), ENT_COMPAT, 'UTF-8' );    $this->prijmeni = htmlentities( Tools::getValue( 'prijmeni' ), ENT_COMPAT, 'UTF-8' );    $this->jmeno = htmlentities( Tools::getValue( 'jmeno' ), ENT_COMPAT, 'UTF-8' );      $this->city = htmlentities( Tools::getValue( 'city' ), ENT_COMPAT, 'UTF-8' );    $this->country = htmlentities( Tools::getValue( 'country' ), ENT_COMPAT, 'UTF-8' );    $this->arr_not = explode("-", htmlentities( Tools::getValue( 'arr_not' ), ENT_COMPAT, 'UTF-8' ) );            }      elseif (Tools::isSubmit('submitSmsMarketingRemove') )   {      $this->arr_not = explode("-", htmlentities( Tools::getValue( 'arr_not' ), ENT_COMPAT, 'UTF-8' ) );    $R4117BD9C2FBBD57A0591E55A5204FD0B = htmlentities( Tools::getValue( 'customer' ), ENT_COMPAT, 'UTF-8' );     if(!@in_array($R4117BD9C2FBBD57A0591E55A5204FD0B,$this->arr_not) && $R4117BD9C2FBBD57A0591E55A5204FD0B>0) $this->arr_not[] = $R4117BD9C2FBBD57A0591E55A5204FD0B;    $this->d = htmlentities( Tools::getValue( 'd' ), ENT_COMPAT, 'UTF-8' );    $this->city = htmlentities( Tools::getValue( 'city' ), ENT_COMPAT, 'UTF-8' );    $this->prijmeni = htmlentities( Tools::getValue( 'prijmeni' ), ENT_COMPAT, 'UTF-8' );    $this->jmeno = htmlentities( Tools::getValue( 'jmeno' ), ENT_COMPAT, 'UTF-8' );     $this->country = htmlentities( Tools::getValue( 'country' ), ENT_COMPAT, 'UTF-8' );    $this->gender = htmlentities( Tools::getValue( 'gender' ), ENT_COMPAT, 'UTF-8' );    $this->newsletter = htmlentities( Tools::getValue( 'newsletter' ), ENT_COMPAT, 'UTF-8' );    $this->advert = htmlentities( Tools::getValue( 'advert' ), ENT_COMPAT, 'UTF-8' );     $this->text = htmlentities( Tools::getValue( 'text' ), ENT_COMPAT, 'UTF-8' );    $this->unicode = htmlentities( Tools::getValue( 'unicode' ), ENT_COMPAT, 'UTF-8' );    $this->sendlater = htmlentities( Tools::getValue( 'sendlater' ), ENT_COMPAT, 'UTF-8' );    $this->datereal = htmlentities( Tools::getValue( 'datereal' ), ENT_COMPAT, 'UTF-8' );    $this->hodina = htmlentities( Tools::getValue( 'hodina' ), ENT_COMPAT, 'UTF-8' );    $this->minuta = htmlentities( Tools::getValue( 'minuta' ), ENT_COMPAT, 'UTF-8' );    $this->datumodesl = htmlentities( Tools::getValue( 'datumodesl' ), ENT_COMPAT, 'UTF-8' );     $this->datebirth1 = htmlentities( Tools::getValue( 'datebirth1' ), ENT_COMPAT, 'UTF-8' );    $this->datebirth2 = htmlentities( Tools::getValue( 'datebirth2' ), ENT_COMPAT, 'UTF-8' );    $this->datereg1 = htmlentities( Tools::getValue( 'datereg1' ), ENT_COMPAT, 'UTF-8' );    $this->datereg2 = htmlentities( Tools::getValue( 'datereg2' ), ENT_COMPAT, 'UTF-8' );      $this->groups = htmlentities( Tools::getValue( 'groups' ), ENT_COMPAT, 'UTF-8' );    $this->store = htmlentities( Tools::getValue( 'store' ), ENT_COMPAT, 'UTF-8' );    $this->type = htmlentities( Tools::getValue( 'type' ), ENT_COMPAT, 'UTF-8' );   }     elseif (Tools::isSubmit('submitSmsCustomer') )   {       $R91CACE256C6C839A6B447F6BAE86D72A = htmlentities( Tools::getValue( 'id_customer' ), ENT_COMPAT, 'UTF-8' );     Tools::redirectAdmin("index.php?tab=AdminCustomers&id_customer=".$R91CACE256C6C839A6B447F6BAE86D72A."&viewcustomer&token=".Utils::getAdminTokenLite1('AdminCustomers'));   }      elseif (Tools::isSubmit('submitSmsZone') )   {        Tools::redirectAdmin("index.php?tab=AdminLocalization&token=".Utils::getAdminTokenLite1('AdminLocalization'));   }       elseif (Tools::isSubmit('submitSmsMarketingSendSMS') )   {         $this->arr_not = explode("-", htmlentities( Tools::getValue( 'arr_not' ), ENT_COMPAT, 'UTF-8' ) );    $this->odesl = htmlentities( Tools::getValue( 'odesl' ), ENT_COMPAT, 'UTF-8' );    $this->country = htmlentities( Tools::getValue( 'country' ), ENT_COMPAT, 'UTF-8' );     $this->city = htmlentities( Tools::getValue( 'city' ), ENT_COMPAT, 'UTF-8' );    $this->prijmeni = htmlentities( Tools::getValue( 'prijmeni' ), ENT_COMPAT, 'UTF-8' );    $this->gender = htmlentities( Tools::getValue( 'gender' ), ENT_COMPAT, 'UTF-8' );    $this->newsletter = htmlentities( Tools::getValue( 'newsletter' ), ENT_COMPAT, 'UTF-8' );    $this->advert = htmlentities( Tools::getValue( 'advert' ), ENT_COMPAT, 'UTF-8' );     $this->datebirth1 = htmlentities( Tools::getValue( 'datebirth1' ), ENT_COMPAT, 'UTF-8' );    $this->datebirth2 = htmlentities( Tools::getValue( 'datebirth2' ), ENT_COMPAT, 'UTF-8' );    $this->datereg1 = htmlentities( Tools::getValue( 'datereg1' ), ENT_COMPAT, 'UTF-8' );    $this->datereg2 = htmlentities( Tools::getValue( 'datereg2' ), ENT_COMPAT, 'UTF-8' );      $this->type = htmlentities( Tools::getValue( 'type' ), ENT_COMPAT, 'UTF-8' );    $this->groups = htmlentities( Tools::getValue( 'groups' ), ENT_COMPAT, 'UTF-8' );    $this->store = htmlentities( Tools::getValue( 'store' ), ENT_COMPAT, 'UTF-8' );    $this->jmeno = htmlentities( Tools::getValue( 'jmeno' ), ENT_COMPAT, 'UTF-8' );     $this->d = htmlentities( Tools::getValue( 'd' ), ENT_COMPAT, 'UTF-8' );     $this->unicode = htmlentities( Tools::getValue( 'unicode' ), ENT_COMPAT, 'UTF-8' );    $this->sendlater = htmlentities( Tools::getValue( 'sendlater' ), ENT_COMPAT, 'UTF-8' );    $this->datumodesl = htmlentities( Tools::getValue( 'datumodesl' ), ENT_COMPAT, 'UTF-8' );    $this->text = htmlentities( Tools::getValue( 'text' ), ENT_COMPAT, 'UTF-8' );     $this->datereal = htmlentities( Tools::getValue( 'datereal' ), ENT_COMPAT, 'UTF-8' );    $this->hodina = htmlentities( Tools::getValue( 'hodina' ), ENT_COMPAT, 'UTF-8' );    $this->minuta = htmlentities( Tools::getValue( 'minuta' ), ENT_COMPAT, 'UTF-8' );     $R9DAFE833BC8EFAC7DC1C353988BC81FC = htmlentities( Tools::getValue( 'customerIDs' ), ENT_COMPAT, 'UTF-8' );     $R7458AFFA82B1F3BE50F6252ECAE56317 = htmlentities( Tools::getValue( 'timezone' ), ENT_COMPAT, 'UTF-8' );         if (!strlen($this->text)>0):      $this->_errors[] = Tools::displayError(v_smsmarketing_fillsms);      return false;     elseif (mb_strlen( html_entity_decode($this->text, ENT_QUOTES, 'UTF-8'),"utf-8")>612 && $this->unicode==0):          $this->_errors[] = Tools::displayError(v_smsmarketing_smslong);      return false;        elseif (mb_strlen( html_entity_decode($this->text, ENT_QUOTES, 'UTF-8'),"utf-8")>268 && $this->unicode==1):      $this->_errors[] = Tools::displayError(v_smsmarketing_unicodesmslong);      return false;     endif;     $R7FAF7F5954A398D3AAECD3B05FDCEED3 = explode(";", $R9DAFE833BC8EFAC7DC1C353988BC81FC);    $R779F3226A511EAE0BBCA80CD58962714 = count($R7FAF7F5954A398D3AAECD3B05FDCEED3);     if ($R779F3226A511EAE0BBCA80CD58962714==0):      $this->_errors[] = Tools::displayError(v_smsmarketing_nocustomers);      return false;     endif;     $R322FB89B8AA1AB0BF05D20AF4DF16244 = "";  $RACA2A34C2B9E40C574D9B4212A41B310 = "";     if ($this->sendlater==1):      $R88E58C48A0263F9D9FA7CAEF0FA27073 = explode("-",$this->datumodesl);      $R759C64E74E54EDEF6A4A51FE61FC9680 =  Date("U");       $RDEA7969B183484A8941F49B2C298C42F =  Date("Y-m-d H:i:s",mktime( ($this->hodina ) ,$this->minuta,0,$R88E58C48A0263F9D9FA7CAEF0FA27073[1],$R88E58C48A0263F9D9FA7CAEF0FA27073[2],$R88E58C48A0263F9D9FA7CAEF0FA27073[0]));      $RA7A7C00EC434912CD09AF0F506043EBA =  Date("U",mktime( ($this->hodina + $this->datereal) ,$this->minuta,0,$R88E58C48A0263F9D9FA7CAEF0FA27073[1],$R88E58C48A0263F9D9FA7CAEF0FA27073[2],$R88E58C48A0263F9D9FA7CAEF0FA27073[0]));        if($RA7A7C00EC434912CD09AF0F506043EBA <= $R759C64E74E54EDEF6A4A51FE61FC9680):      $this->_errors[] = Tools::displayError(v_smsmarketing_wrongtime);       return false;     endif;      $R7E85F41AECED3065AD78DF8C780C7A98 = date("Y-m-d H:i:s", $RA7A7C00EC434912CD09AF0F506043EBA);     $R5B08D4F823242B6E50E99FC8C099CDB9 = new DateTime($R7E85F41AECED3065AD78DF8C780C7A98, new DateTimeZone($R7458AFFA82B1F3BE50F6252ECAE56317));     $R769D373058414266BF471E9D9CFA5FFF = 'Europe/Prague';     date_default_timezone_set($R769D373058414266BF471E9D9CFA5FFF);     $RA7A7C00EC434912CD09AF0F506043EBA = $R5B08D4F823242B6E50E99FC8C099CDB9->format('U');     $R322FB89B8AA1AB0BF05D20AF4DF16244 = "&datelater=".$RA7A7C00EC434912CD09AF0F506043EBA;     $RACA2A34C2B9E40C574D9B4212A41B310 = $RDEA7969B183484A8941F49B2C298C42F;    endif;        $R97C3D125F721D164AE6E0EA71ABAA3F1 = new Utils();    $R97C3D125F721D164AE6E0EA71ABAA3F1->loadSmsProfile();    $this->user5 =  $R97C3D125F721D164AE6E0EA71ABAA3F1->user5;    $this->passwd5 =  $R97C3D125F721D164AE6E0EA71ABAA3F1->passwd5;    $this->simulate5 =  $R97C3D125F721D164AE6E0EA71ABAA3F1->simulate5;    $this->pole123 = $this->GetSmsInfo2();    $RE902658B46E9F0EF43A42CDF9BCFE232 = $this->pole123[0];        $R31F00A797C0FA5EEA4508B2457FFFD24 = html_entity_decode($this->text, ENT_QUOTES, 'UTF-8');    $RDE90B56F5E6A24E136297EABD5385B1E = Utils::CountSms($R31F00A797C0FA5EEA4508B2457FFFD24, $this->unicode);       if($this->simulate5==0 && ($R779F3226A511EAE0BBCA80CD58962714*$RDE90B56F5E6A24E136297EABD5385B1E*0.75)> $RE902658B46E9F0EF43A42CDF9BCFE232 ):      $this->_errors[] = Tools::displayError(v_smsmarketing_lowcreditall.$R779F3226A511EAE0BBCA80CD58962714.v_smsmarketing_customers);      return false;    endif;            $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS("SELECT * FROM "._DB_PREFIX_."country");    if (is_array($R679E9B9234E2062F809DBD3325D37FB6)):     foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)     {      $RD5D8F70E90FCD7F6429DEDAE71E78CE7[$R4EEB713E57BBAAF1217CF39632604473["id_country"]] =  $RD1E041E4D90147C1696847AE78B89B3D[$R4EEB713E57BBAAF1217CF39632604473["id_country"]] ;      $RE7C9BF928543A6DF5588F201C6A42B98[$R4EEB713E57BBAAF1217CF39632604473["id_country"]] =  $R4EEB713E57BBAAF1217CF39632604473["call_prefix"] ;           }    endif;       $RC868CB96341E0D2A3EACBB6C4E38AFEF = "";    $RC868CB96341E0D2A3EACBB6C4E38AFEF = " where id_address IN (".@implode(",",$R7FAF7F5954A398D3AAECD3B05FDCEED3).") ";    $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->ExecuteS("SELECT * FROM "._DB_PREFIX_."address ".$RC868CB96341E0D2A3EACBB6C4E38AFEF);      if (is_array($R679E9B9234E2062F809DBD3325D37FB6)):       foreach ($R679E9B9234E2062F809DBD3325D37FB6 AS $R4EEB713E57BBAAF1217CF39632604473)       {        $R0703AF0C4AE0879B68E3CE4BF5157360["customerID"][] = $R4EEB713E57BBAAF1217CF39632604473["id_customer"];        $R0703AF0C4AE0879B68E3CE4BF5157360["recipient"][] = $R4EEB713E57BBAAF1217CF39632604473["firstname"]." ".$R4EEB713E57BBAAF1217CF39632604473["lastname"];        $RB9EB0E55B96C16BF7C7FA8686E21CC07 =  $R4EEB713E57BBAAF1217CF39632604473["city"];        $R85557E9D3A9470A8972359C0B08DF75B = $RE7C9BF928543A6DF5588F201C6A42B98[$R4EEB713E57BBAAF1217CF39632604473["id_country"]];           if(strtolower($RB9EB0E55B96C16BF7C7FA8686E21CC07)=="indonesia"):          $R85557E9D3A9470A8972359C0B08DF75B = "62";        else:          $R85557E9D3A9470A8972359C0B08DF75B = $RE7C9BF928543A6DF5588F201C6A42B98[$R4EEB713E57BBAAF1217CF39632604473["id_country"]];        endif;         global $R5A22837FD5CEC930D5244D0746C38AA4, $R7A089B68E7481DA8AD1EB411038DBB08,$RCED137ED149326AD521D9B0126BC71F9;        $R103CF00832E880829B75973C429F5DE1 = null;        $R103CF00832E880829B75973C429F5DE1 = Utils::preparenumber($R4EEB713E57BBAAF1217CF39632604473["phone_mobile"],$R85557E9D3A9470A8972359C0B08DF75B);        $R0703AF0C4AE0879B68E3CE4BF5157360["number"][] = $R103CF00832E880829B75973C429F5DE1["mobile"];        $R0703AF0C4AE0879B68E3CE4BF5157360["isms"][] = $R103CF00832E880829B75973C429F5DE1['isms'];        $R0703AF0C4AE0879B68E3CE4BF5157360["sendertype"][] = $R103CF00832E880829B75973C429F5DE1['sendertype'];        $R0703AF0C4AE0879B68E3CE4BF5157360["senderID"][] = $R103CF00832E880829B75973C429F5DE1['senderID'];               }      endif;        $RBD53AD6C21F49801119BB04556883E55 = $R0703AF0C4AE0879B68E3CE4BF5157360;       $R7318A606A3118D468DAE7078098FBA7B = "action=sendsmsall&username=".$this->user5."&password=".$this->passwd5."&unicode=".$this->unicode."&data=".$R31F00A797C0FA5EEA4508B2457FFFD24."&number=".@implode(";",$R0703AF0C4AE0879B68E3CE4BF5157360["number"])."&isms=".@implode(";",$R0703AF0C4AE0879B68E3CE4BF5157360["isms"])."&sender=".@implode(";",$R0703AF0C4AE0879B68E3CE4BF5157360["senderID"]).$R322FB89B8AA1AB0BF05D20AF4DF16244;              $R602BAA072843820A45861C75C510C77E = new Utils();        if($this->simulate5==1):        $this->connserver = 29; $R602BAA072843820A45861C75C510C77E->server_data = "";       else:        $this->connserver = $R602BAA072843820A45861C75C510C77E->server_post($R7318A606A3118D468DAE7078098FBA7B);       endif;        if($this->connserver==1):             $RA30E67F43092199CB84A6793C98D4DD9 =  $R602BAA072843820A45861C75C510C77E->server_data;                              $R31F00A797C0FA5EEA4508B2457FFFD24 = addslashes($R31F00A797C0FA5EEA4508B2457FFFD24);        $R17C57548BA70F185620C173FB2081EBD=0;        $R3554AE3B96B8989A0DFF940CB1E0FDE8 = explode("QQQ___QQQ",$RA30E67F43092199CB84A6793C98D4DD9);        while(list($RC79A5177291710EBFC9B9B18F7A1623B, $RA36B6C18E5D225E1D44C529F842402FA) = @each($R3554AE3B96B8989A0DFF940CB1E0FDE8))         {          $R28E922677E6469110F0C79765F0AB169 = "";                  if(preg_match("/<b>(.*)<\/b><u>(.*)<\/u>/i", $RA36B6C18E5D225E1D44C529F842402FA, $RDEEC0F795D5FCE6004C92C18C7CCF615)):            $R2E07B6A6D52ABA71031B61094E2A4B99 = $RDEEC0F795D5FCE6004C92C18C7CCF615[1];           $R355EF3FA24DCC8BBCFEC5305FE99574B = $RDEEC0F795D5FCE6004C92C18C7CCF615[2];          endif;           if($R2E07B6A6D52ABA71031B61094E2A4B99==1 || $R2E07B6A6D52ABA71031B61094E2A4B99==11):           $R8DB795D302DE5AA755803C08C783F781 = null;            $R8DB795D302DE5AA755803C08C783F781 = explode("__",$R355EF3FA24DCC8BBCFEC5305FE99574B);            $RBD858F8FE70FFF55D195F3A5A98BB4C6 = "insert into "._DB_PREFIX_."sp_sms_history values (null,'+".$R0703AF0C4AE0879B68E3CE4BF5157360["number"][$RC79A5177291710EBFC9B9B18F7A1623B]."',NOW(),'".$R31F00A797C0FA5EEA4508B2457FFFD24."','1','".$R8DB795D302DE5AA755803C08C783F781[1]."','".$R8DB795D302DE5AA755803C08C783F781[2]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["senderID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$this->unicode."','3','".$R8DB795D302DE5AA755803C08C783F781[0]."','','".$RDE90B56F5E6A24E136297EABD5385B1E."',0,'".$R0703AF0C4AE0879B68E3CE4BF5157360["customerID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["recipient"][$RC79A5177291710EBFC9B9B18F7A1623B]."',''  ) ";           $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->Execute($RBD858F8FE70FFF55D195F3A5A98BB4C6);           $R17C57548BA70F185620C173FB2081EBD=1;           $R1CDFE816663711E4AF125EBC8D07676C = v_smsmarketing_smssent;          elseif($R2E07B6A6D52ABA71031B61094E2A4B99==111):           $R8DB795D302DE5AA755803C08C783F781 = null;            $R8DB795D302DE5AA755803C08C783F781 = explode("__",$R355EF3FA24DCC8BBCFEC5305FE99574B);           $R28E922677E6469110F0C79765F0AB169 = "SMS will be send later - ".$RACA2A34C2B9E40C574D9B4212A41B310;           $RBD858F8FE70FFF55D195F3A5A98BB4C6 = "insert into "._DB_PREFIX_."sp_sms_history values (null,'+".$R0703AF0C4AE0879B68E3CE4BF5157360["number"][$RC79A5177291710EBFC9B9B18F7A1623B]."',NOW(),'".$R31F00A797C0FA5EEA4508B2457FFFD24."','4','".$R8DB795D302DE5AA755803C08C783F781[1]."','".$R8DB795D302DE5AA755803C08C783F781[2]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["senderID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$this->unicode."','3','".$R8DB795D302DE5AA755803C08C783F781[0]."','$R28E922677E6469110F0C79765F0AB169','".$RDE90B56F5E6A24E136297EABD5385B1E."',0,'".$R0703AF0C4AE0879B68E3CE4BF5157360["customerID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["recipient"][$RC79A5177291710EBFC9B9B18F7A1623B]."',''  ) ";           $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->Execute($RBD858F8FE70FFF55D195F3A5A98BB4C6);           $R17C57548BA70F185620C173FB2081EBD=1;           $R1CDFE816663711E4AF125EBC8D07676C = v_smsmarketing_smssaved;          elseif($R2E07B6A6D52ABA71031B61094E2A4B99==3 && $R355EF3FA24DCC8BBCFEC5305FE99574B==9):           $R8DB795D302DE5AA755803C08C783F781 = null;            $R8DB795D302DE5AA755803C08C783F781 = explode("__",$R355EF3FA24DCC8BBCFEC5305FE99574B);           $R28E922677E6469110F0C79765F0AB169 = v_smsmarketing_wrongnr;           $RBD858F8FE70FFF55D195F3A5A98BB4C6 = "insert into "._DB_PREFIX_."sp_sms_history values (null,'+".$R0703AF0C4AE0879B68E3CE4BF5157360["number"][$RC79A5177291710EBFC9B9B18F7A1623B]."',NOW(),'".$R31F00A797C0FA5EEA4508B2457FFFD24."','2','".$R8DB795D302DE5AA755803C08C783F781[1]."','".$R8DB795D302DE5AA755803C08C783F781[2]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["senderID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$this->unicode."','3','".$R8DB795D302DE5AA755803C08C783F781[0]."','".$R28E922677E6469110F0C79765F0AB169."','".$RDE90B56F5E6A24E136297EABD5385B1E."',0,'".$R0703AF0C4AE0879B68E3CE4BF5157360["customerID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["recipient"][$RC79A5177291710EBFC9B9B18F7A1623B]."',''  ) ";                      $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->Execute($RBD858F8FE70FFF55D195F3A5A98BB4C6);                    elseif($R2E07B6A6D52ABA71031B61094E2A4B99==3 && $R355EF3FA24DCC8BBCFEC5305FE99574B==15):           $R8DB795D302DE5AA755803C08C783F781 = null;            $R8DB795D302DE5AA755803C08C783F781 = explode("__",$R355EF3FA24DCC8BBCFEC5305FE99574B);           $R28E922677E6469110F0C79765F0AB169 = v_smsmarketing_unauthorized;           $RBD858F8FE70FFF55D195F3A5A98BB4C6 = "insert into "._DB_PREFIX_."sp_sms_history values (null,'+".$R0703AF0C4AE0879B68E3CE4BF5157360["number"][$RC79A5177291710EBFC9B9B18F7A1623B]."',NOW(),'".$R31F00A797C0FA5EEA4508B2457FFFD24."','2','".$R8DB795D302DE5AA755803C08C783F781[1]."','".$R8DB795D302DE5AA755803C08C783F781[2]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["senderID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$this->unicode."','3','".$R8DB795D302DE5AA755803C08C783F781[0]."','".$R28E922677E6469110F0C79765F0AB169."','".$RDE90B56F5E6A24E136297EABD5385B1E."',0,'".$R0703AF0C4AE0879B68E3CE4BF5157360["customerID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["recipient"][$RC79A5177291710EBFC9B9B18F7A1623B]."',''  ) ";                      $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->Execute($RBD858F8FE70FFF55D195F3A5A98BB4C6);           elseif($R2E07B6A6D52ABA71031B61094E2A4B99==3 && $R355EF3FA24DCC8BBCFEC5305FE99574B==10):           $R8DB795D302DE5AA755803C08C783F781 = null;            $R8DB795D302DE5AA755803C08C783F781 = explode("__",$R355EF3FA24DCC8BBCFEC5305FE99574B);           $R28E922677E6469110F0C79765F0AB169 = v_smsmarketing_lowcredit;           $RBD858F8FE70FFF55D195F3A5A98BB4C6 = "insert into "._DB_PREFIX_."sp_sms_history values (null,'+".$R0703AF0C4AE0879B68E3CE4BF5157360["number"][$RC79A5177291710EBFC9B9B18F7A1623B]."',NOW(),'".$R31F00A797C0FA5EEA4508B2457FFFD24."','2','".$R8DB795D302DE5AA755803C08C783F781[1]."','".$R8DB795D302DE5AA755803C08C783F781[2]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["senderID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$this->unicode."','3','".$R8DB795D302DE5AA755803C08C783F781[0]."','".$R28E922677E6469110F0C79765F0AB169."','".$RDE90B56F5E6A24E136297EABD5385B1E."',0,'".$R0703AF0C4AE0879B68E3CE4BF5157360["customerID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["recipient"][$RC79A5177291710EBFC9B9B18F7A1623B]."',''  ) ";                      $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->Execute($RBD858F8FE70FFF55D195F3A5A98BB4C6);           elseif($R2E07B6A6D52ABA71031B61094E2A4B99==3 && $R355EF3FA24DCC8BBCFEC5305FE99574B==22):           $R8DB795D302DE5AA755803C08C783F781 = null;            $R8DB795D302DE5AA755803C08C783F781 = explode("__",$R355EF3FA24DCC8BBCFEC5305FE99574B);           $R28E922677E6469110F0C79765F0AB169 = v_smsmarketing_nounicode;           $RBD858F8FE70FFF55D195F3A5A98BB4C6 = "insert into "._DB_PREFIX_."sp_sms_history values (null,'+".$R0703AF0C4AE0879B68E3CE4BF5157360["number"][$RC79A5177291710EBFC9B9B18F7A1623B]."',NOW(),'".$R31F00A797C0FA5EEA4508B2457FFFD24."','2','".$R8DB795D302DE5AA755803C08C783F781[1]."','".$R8DB795D302DE5AA755803C08C783F781[2]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["senderID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$this->unicode."','3','".$R8DB795D302DE5AA755803C08C783F781[0]."','".$R28E922677E6469110F0C79765F0AB169."','".$RDE90B56F5E6A24E136297EABD5385B1E."',0,'".$R0703AF0C4AE0879B68E3CE4BF5157360["customerID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["recipient"][$RC79A5177291710EBFC9B9B18F7A1623B]."',''  ) ";                      $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->Execute($RBD858F8FE70FFF55D195F3A5A98BB4C6);                 elseif($R2E07B6A6D52ABA71031B61094E2A4B99==3):           $R8DB795D302DE5AA755803C08C783F781 = null;            $R8DB795D302DE5AA755803C08C783F781 = explode("__",$R355EF3FA24DCC8BBCFEC5305FE99574B);           $R28E922677E6469110F0C79765F0AB169 = $R355EF3FA24DCC8BBCFEC5305FE99574B;           $RBD858F8FE70FFF55D195F3A5A98BB4C6 = "insert into "._DB_PREFIX_."sp_sms_history values (null,'+".$R0703AF0C4AE0879B68E3CE4BF5157360["number"][$RC79A5177291710EBFC9B9B18F7A1623B]."',NOW(),'".$R31F00A797C0FA5EEA4508B2457FFFD24."','2','".$R8DB795D302DE5AA755803C08C783F781[1]."','".$R8DB795D302DE5AA755803C08C783F781[2]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["senderID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$this->unicode."','3','".$R8DB795D302DE5AA755803C08C783F781[0]."','".$R28E922677E6469110F0C79765F0AB169."','".$RDE90B56F5E6A24E136297EABD5385B1E."',0,'".$R0703AF0C4AE0879B68E3CE4BF5157360["customerID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["recipient"][$RC79A5177291710EBFC9B9B18F7A1623B]."',''  ) ";                      $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->Execute($RBD858F8FE70FFF55D195F3A5A98BB4C6);           elseif($R2E07B6A6D52ABA71031B61094E2A4B99==4):           $R8DB795D302DE5AA755803C08C783F781 = null;            $R8DB795D302DE5AA755803C08C783F781 = explode("__",$R355EF3FA24DCC8BBCFEC5305FE99574B);           $R28E922677E6469110F0C79765F0AB169 = v_smsmarketing_loginerror;           $RBD858F8FE70FFF55D195F3A5A98BB4C6 = "insert into "._DB_PREFIX_."sp_sms_history values (null,'+".$R0703AF0C4AE0879B68E3CE4BF5157360["number"][$RC79A5177291710EBFC9B9B18F7A1623B]."',NOW(),'".$R31F00A797C0FA5EEA4508B2457FFFD24."','2','".$R8DB795D302DE5AA755803C08C783F781[1]."','".$R8DB795D302DE5AA755803C08C783F781[2]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["senderID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$this->unicode."','3','".$R8DB795D302DE5AA755803C08C783F781[0]."','".$R28E922677E6469110F0C79765F0AB169."','".$RDE90B56F5E6A24E136297EABD5385B1E."',0,'".$R0703AF0C4AE0879B68E3CE4BF5157360["customerID"][$RC79A5177291710EBFC9B9B18F7A1623B]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["recipient"][$RC79A5177291710EBFC9B9B18F7A1623B]."',''  ) ";                      $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->Execute($RBD858F8FE70FFF55D195F3A5A98BB4C6);           endif;          }           elseif($this->connserver==2):            $R28E922677E6469110F0C79765F0AB169 = v_smsmarketing_cantconnect;          $this->_errors[] = Tools::displayError($R28E922677E6469110F0C79765F0AB169);          return false;        elseif($this->connserver==29):           $R31F00A797C0FA5EEA4508B2457FFFD24 = addslashes($R31F00A797C0FA5EEA4508B2457FFFD24);        while(list($R9E0C7F4CC2E81247219753AD29588EC2, $R7AC898B623377DE38F531B2CEE620319) = @each($RBD53AD6C21F49801119BB04556883E55["number"]))         {           $R8DB795D302DE5AA755803C08C783F781 = null;           $R8DB795D302DE5AA755803C08C783F781 = explode("__",$R355EF3FA24DCC8BBCFEC5305FE99574B);          $R28E922677E6469110F0C79765F0AB169 = v_smsmarketing_simulation;           $RBD858F8FE70FFF55D195F3A5A98BB4C6 = "insert into "._DB_PREFIX_."sp_sms_history values (null,'+".$R7AC898B623377DE38F531B2CEE620319."',NOW(),'".$R31F00A797C0FA5EEA4508B2457FFFD24."','2','".$R8DB795D302DE5AA755803C08C783F781[1]."','".$R8DB795D302DE5AA755803C08C783F781[2]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["senderID"][$R9E0C7F4CC2E81247219753AD29588EC2]."','".$this->unicode."','3','".$R8DB795D302DE5AA755803C08C783F781[0]."','".$R28E922677E6469110F0C79765F0AB169."','".$RDE90B56F5E6A24E136297EABD5385B1E."',0,'".$R0703AF0C4AE0879B68E3CE4BF5157360["customerID"][$R9E0C7F4CC2E81247219753AD29588EC2]."','".$R0703AF0C4AE0879B68E3CE4BF5157360["recipient"][$R9E0C7F4CC2E81247219753AD29588EC2]."',''  ) ";          $R679E9B9234E2062F809DBD3325D37FB6 = Db::getInstance()->Execute($RBD858F8FE70FFF55D195F3A5A98BB4C6);        }          $R17C57548BA70F185620C173FB2081EBD=1;          $R1CDFE816663711E4AF125EBC8D07676C = v_smsmarketing_simulationconfirm;       endif;         if($R17C57548BA70F185620C173FB2081EBD==1):        echo $this->displayConfirmation($R1CDFE816663711E4AF125EBC8D07676C);        unset($this->arr_not);        unset($this->odesl);        unset($this->country);        unset($this->city);        unset($this->prijmeni);        unset($this->gender);        unset($this->newsletter);        unset($this->advert);        unset($this->datebirth1);        unset($this->datebirth2);        unset($this->datereg1);        unset($this->datereg2);        unset($this->type);        unset($this->groups);        unset($this->store);        unset($this->jmeno);        unset($this->d);        unset($this->unicode);        unset($this->sendlater);        unset($this->datumodesl);        unset($this->text);          unset($this->datereal);        unset($this->hodina);        unset($this->minuta);        else:        $this->_errors[] = Tools::displayError($R28E922677E6469110F0C79765F0AB169);       endif;      }           elseif (Tools::isSubmit('submitSmsMarketingNext') )   {       $this->arr_not = explode("-", htmlentities( Tools::getValue( 'arr_not' ), ENT_COMPAT, 'UTF-8' ) );    $this->odesl = htmlentities( Tools::getValue( 'odesl' ), ENT_COMPAT, 'UTF-8' );    $this->country = htmlentities( Tools::getValue( 'country' ), ENT_COMPAT, 'UTF-8' );     $this->city = htmlentities( Tools::getValue( 'city' ), ENT_COMPAT, 'UTF-8' );    $this->prijmeni = htmlentities( Tools::getValue( 'prijmeni' ), ENT_COMPAT, 'UTF-8' );    $this->gender = htmlentities( Tools::getValue( 'gender' ), ENT_COMPAT, 'UTF-8' );    $this->newsletter = htmlentities( Tools::getValue( 'newsletter' ), ENT_COMPAT, 'UTF-8' );    $this->advert = htmlentities( Tools::getValue( 'advert' ), ENT_COMPAT, 'UTF-8' );     $this->text = htmlentities( Tools::getValue( 'text' ), ENT_COMPAT, 'UTF-8' );    $this->unicode = htmlentities( Tools::getValue( 'unicode' ), ENT_COMPAT, 'UTF-8' );    $this->datereal = htmlentities( Tools::getValue( 'datereal' ), ENT_COMPAT, 'UTF-8' );    $this->hodina = htmlentities( Tools::getValue( 'hodina' ), ENT_COMPAT, 'UTF-8' );    $this->minuta = htmlentities( Tools::getValue( 'minuta' ), ENT_COMPAT, 'UTF-8' );    $this->sendlater = htmlentities( Tools::getValue( 'sendlater' ), ENT_COMPAT, 'UTF-8' );    $this->datumodesl = htmlentities( Tools::getValue( 'datumodesl' ), ENT_COMPAT, 'UTF-8' );     $this->datebirth1 = htmlentities( Tools::getValue( 'datebirth1' ), ENT_COMPAT, 'UTF-8' );    $this->datebirth2 = htmlentities( Tools::getValue( 'datebirth2' ), ENT_COMPAT, 'UTF-8' );    $this->datereg1 = htmlentities( Tools::getValue( 'datereg1' ), ENT_COMPAT, 'UTF-8' );    $this->datereg2 = htmlentities( Tools::getValue( 'datereg2' ), ENT_COMPAT, 'UTF-8' );      $this->type = htmlentities( Tools::getValue( 'type' ), ENT_COMPAT, 'UTF-8' );    $this->groups = htmlentities( Tools::getValue( 'groups' ), ENT_COMPAT, 'UTF-8' );    $this->store = htmlentities( Tools::getValue( 'store' ), ENT_COMPAT, 'UTF-8' );    $this->jmeno = htmlentities( Tools::getValue( 'jmeno' ), ENT_COMPAT, 'UTF-8' );     $this->d = htmlentities( Tools::getValue( 'd' ), ENT_COMPAT, 'UTF-8' );         }   elseif (Tools::isSubmit('submitSmsMarketingPrevious') )   {       $this->arr_not = explode("-", htmlentities( Tools::getValue( 'arr_not' ), ENT_COMPAT, 'UTF-8' ) );    $this->odesl = htmlentities( Tools::getValue( 'odesl' ), ENT_COMPAT, 'UTF-8' );    $this->country = htmlentities( Tools::getValue( 'country' ), ENT_COMPAT, 'UTF-8' );    $this->city = htmlentities( Tools::getValue( 'city' ), ENT_COMPAT, 'UTF-8' );    $this->prijmeni = htmlentities( Tools::getValue( 'prijmeni' ), ENT_COMPAT, 'UTF-8' );    $this->gender = htmlentities( Tools::getValue( 'gender' ), ENT_COMPAT, 'UTF-8' );    $this->newsletter = htmlentities( Tools::getValue( 'newsletter' ), ENT_COMPAT, 'UTF-8' );    $this->advert = htmlentities( Tools::getValue( 'advert' ), ENT_COMPAT, 'UTF-8' );     $this->text = htmlentities( Tools::getValue( 'text' ), ENT_COMPAT, 'UTF-8' );    $this->unicode = htmlentities( Tools::getValue( 'unicode' ), ENT_COMPAT, 'UTF-8' );    $this->datereal = htmlentities( Tools::getValue( 'datereal' ), ENT_COMPAT, 'UTF-8' );    $this->hodina = htmlentities( Tools::getValue( 'hodina' ), ENT_COMPAT, 'UTF-8' );    $this->minuta = htmlentities( Tools::getValue( 'minuta' ), ENT_COMPAT, 'UTF-8' );    $this->sendlater = htmlentities( Tools::getValue( 'sendlater' ), ENT_COMPAT, 'UTF-8' );    $this->datumodesl = htmlentities( Tools::getValue( 'datumodesl' ), ENT_COMPAT, 'UTF-8' );     $this->datebirth1 = htmlentities( Tools::getValue( 'datebirth1' ), ENT_COMPAT, 'UTF-8' );    $this->datebirth2 = htmlentities( Tools::getValue( 'datebirth2' ), ENT_COMPAT, 'UTF-8' );    $this->datereg1 = htmlentities( Tools::getValue( 'datereg1' ), ENT_COMPAT, 'UTF-8' );    $this->datereg2 = htmlentities( Tools::getValue( 'datereg2' ), ENT_COMPAT, 'UTF-8' );      $this->type = htmlentities( Tools::getValue( 'type' ), ENT_COMPAT, 'UTF-8' );    $this->groups = htmlentities( Tools::getValue( 'groups' ), ENT_COMPAT, 'UTF-8' );    $this->store = htmlentities( Tools::getValue( 'store' ), ENT_COMPAT, 'UTF-8' );    $this->jmeno = htmlentities( Tools::getValue( 'jmeno' ), ENT_COMPAT, 'UTF-8' );      $this->d = htmlentities( Tools::getValue( 'd' ), ENT_COMPAT, 'UTF-8' );          }   elseif (Tools::isSubmit('submitSmsMarketingPage') )   {       $this->arr_not = explode("-", htmlentities( Tools::getValue( 'arr_not' ), ENT_COMPAT, 'UTF-8' ) );    $this->odesl = htmlentities( Tools::getValue( 'odesl' ), ENT_COMPAT, 'UTF-8' );    $this->country = htmlentities( Tools::getValue( 'country' ), ENT_COMPAT, 'UTF-8' );     $this->city = htmlentities( Tools::getValue( 'city' ), ENT_COMPAT, 'UTF-8' );    $this->prijmeni = htmlentities( Tools::getValue( 'prijmeni' ), ENT_COMPAT, 'UTF-8' );    $this->jmeno = htmlentities( Tools::getValue( 'jmeno' ), ENT_COMPAT, 'UTF-8' );     $this->d = htmlentities( Tools::getValue( 'd' ), ENT_COMPAT, 'UTF-8' );     $this->gender = htmlentities( Tools::getValue( 'gender' ), ENT_COMPAT, 'UTF-8' );    $this->newsletter = htmlentities( Tools::getValue( 'newsletter' ), ENT_COMPAT, 'UTF-8' );    $this->advert = htmlentities( Tools::getValue( 'advert' ), ENT_COMPAT, 'UTF-8' );     $this->text = htmlentities( Tools::getValue( 'text' ), ENT_COMPAT, 'UTF-8' );    $this->unicode = htmlentities( Tools::getValue( 'unicode' ), ENT_COMPAT, 'UTF-8' );    $this->datereal = htmlentities( Tools::getValue( 'datereal' ), ENT_COMPAT, 'UTF-8' );    $this->hodina = htmlentities( Tools::getValue( 'hodina' ), ENT_COMPAT, 'UTF-8' );    $this->minuta = htmlentities( Tools::getValue( 'minuta' ), ENT_COMPAT, 'UTF-8' );    $this->sendlater = htmlentities( Tools::getValue( 'sendlater' ), ENT_COMPAT, 'UTF-8' );    $this->datumodesl = htmlentities( Tools::getValue( 'datumodesl' ), ENT_COMPAT, 'UTF-8' );     $this->datebirth1 = htmlentities( Tools::getValue( 'datebirth1' ), ENT_COMPAT, 'UTF-8' );    $this->datebirth2 = htmlentities( Tools::getValue( 'datebirth2' ), ENT_COMPAT, 'UTF-8' );    $this->datereg1 = htmlentities( Tools::getValue( 'datereg1' ), ENT_COMPAT, 'UTF-8' );    $this->datereg2 = htmlentities( Tools::getValue( 'datereg2' ), ENT_COMPAT, 'UTF-8' );      $this->groups = htmlentities( Tools::getValue( 'groups' ), ENT_COMPAT, 'UTF-8' );     $this->store = htmlentities( Tools::getValue( 'store' ), ENT_COMPAT, 'UTF-8' );    $this->type = htmlentities( Tools::getValue( 'type' ), ENT_COMPAT, 'UTF-8' );    }      return parent::postProcess();  }      public function GetSmsInfo2()  {   global $RA30E67F43092199CB84A6793C98D4DD9;   $RCC5354D80D37F8D6155B0C5ECE76CFA8 = null;      $R7318A606A3118D468DAE7078098FBA7B = "action=info2&username=".$this->user5."&password=".$this->passwd5;           $R602BAA072843820A45861C75C510C77E = new Utils();     $this->connserver = $R602BAA072843820A45861C75C510C77E->server_post($R7318A606A3118D468DAE7078098FBA7B);     if($this->connserver==1):       $RA30E67F43092199CB84A6793C98D4DD9 =  $R602BAA072843820A45861C75C510C77E->server_data;       if(preg_match("/<b>(.*)<\/b><u>(.*)<\/u>/i", $RA30E67F43092199CB84A6793C98D4DD9, $RDEEC0F795D5FCE6004C92C18C7CCF615)):         $R2E07B6A6D52ABA71031B61094E2A4B99 = $RDEEC0F795D5FCE6004C92C18C7CCF615[1];        $R355EF3FA24DCC8BBCFEC5305FE99574B = $RDEEC0F795D5FCE6004C92C18C7CCF615[2];       endif;            if($R2E07B6A6D52ABA71031B61094E2A4B99==1):       $RCC5354D80D37F8D6155B0C5ECE76CFA8 = explode(";",$R355EF3FA24DCC8BBCFEC5305FE99574B);      elseif($R2E07B6A6D52ABA71031B61094E2A4B99==3):       $this->_errors[] = Tools::displayError(v_smsmarketing_error);        return false;      elseif($R2E07B6A6D52ABA71031B61094E2A4B99==4):       $this->_errors[] = Tools::displayError(v_smsmarketing_loginerror);        return false;      endif;      elseif($this->connserver==2):       $this->_errors[] = Tools::displayError(v_smsmarketing_cantconnect);      return false;     endif;    return $RCC5354D80D37F8D6155B0C5ECE76CFA8;   }            public function displayConfirmation($R8409EAA6EC0CE2EA307354B2E150F8C2)  {    $RE96E6957E643B99AB982605A4618E1D3 = '   <div class="module_confirmation conf confirm">    <img src="'._PS_IMG_.'admin/ok.gif" alt="" title="" /> '.$R8409EAA6EC0CE2EA307354B2E150F8C2.'   </div>';   return $RE96E6957E643B99AB982605A4618E1D3;  }         } ?>